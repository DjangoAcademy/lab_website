$(document).ready(function(){var h=$(".damSearch");
var g;
var f;
var e;
var d;
var b=[];
var a=[];
$(".search-sections").on("click","input",function(){$(".assetContainer").empty();
d=this.value.toString();
var i="assets/"+d+"."+d;
$(".dam-typeahead.typeahead").typeahead("destroy");
$(".dam-typeahead.typeahead").empty();
$(".dam-typeahead.typeahead").prop("disabled",true);
$.getJSON(i,function(l){g=l;
f=g.assets;
e=g.keywords;
b=[];
a=[];
for(var k=0;
k<e.length;
k++){var m=e[k];
var j=m.keyword.toString();
if((a.indexOf(j)===-1)){a.push(j);
b.push({value:j})
}}$(".dam-typeahead.typeahead").typeahead({hint:true,highlight:true,minLength:1,local:b,limit:10}).off("typeahead:selected").on("typeahead:selected",function(){$("#dam-search-form").submit()
})
}).done(function(){$(".dam-typeahead.typeahead").prop("disabled",false);
$(".dam-typeahead.typeahead").css("background-color","#FFF")
})
});
if($(".damSearchContainer").length>0){$(".dam-typeahead.typeahead").empty();
$(".dam-typeahead.typeahead").prop("disabled",true);
d="damsearchjson";
var c="assets/"+d+"."+d;
$.getJSON(c,function(l){g=l;
f=g.assets;
e=g.keywords;
for(var k=0;
k<e.length;
k++){var m=e[k];
var j=m.keyword.toString();
if((a.indexOf(j)===-1)){a.push(j);
b.push({value:j})
}}$(".dam-typeahead.typeahead").typeahead({hint:true,highlight:true,minLength:1,local:b,limit:10}).off("typeahead:selected").on("typeahead:selected",function(){$("#dam-search-form").submit()
})
}).done(function(){$(".dam-typeahead.typeahead").prop("disabled",false);
$(".dam-typeahead.typeahead").css("background-color","#FFF");
h.isotope({itemSelector:".assetContainer",layoutMode:"fitRows",filter:".active"});
var k=10;
var j=0;
var i="";
$("#dam-search-form").off("submit").on("submit",function(m){m.preventDefault();
$(".helperText").hide();
h.isotope("remove",$(".assetContainer"));
h.isotope({filter:".active"});
if($(".dam-typeahead").val().length<=2){$("#narrowSearch").show();
h.isotope()
}else{i=$(".dam-typeahead").val().toLowerCase();
i=i.toLowerCase();
f=addNewItemsToDom(f,i,d);
var l=$(".notInserted");
h.isotope("insert",l);
l.removeClass("notInserted");
l=null;
makeInactive(i,d);
j=$(".active").length;
k=10;
j=setActive(i,k,j,d);
h.isotope();
h.imagesLoaded(function(){h.isotope()
});
h.isotope()
}noMatches()
});
$(".damSearchLoadMore button.dam-search-loadmore").unbind().click(function(l){l.preventDefault();
k=k+10;
h.isotope();
j=setActive(i,k,j,d);
h.imagesLoaded(function(){h.isotope()
})
});
$(".dam-typeahead").off("keypress").on("keypress",function(l){if(l.which===13){$("#dam-search-form").submit()
}});
$(window).smartresize(function(){h.isotope()
})
})
}});
function addNewItemsToDom(d,g,l){var k=[];
$("#tagFilter input:checkbox:checked").each(function(){k[k.length]=this.value
});
for(var f=0;
f<d.length;
f++){var e=d[f];
var a=e.filename.toString();
var m=e.path.toString();
var j=e.description.toString();
var h=e.title.toString();
var b=e.location.toString();
var c=e.tagname.toString();
if(l==="damsearchjson"&&a.toLowerCase().indexOf(g)>=0){appendAsset(k,c,m,j,a,h,b)
}else{if(l==="descsearchjson"&&j.toLowerCase().indexOf(g)>=0){appendAsset(k,c,m,j,a,h,b)
}else{if(l==="titlesearchjson"&&(h.toLowerCase().indexOf(g)>=0||(a.toLowerCase().indexOf(g)>=0&&h.indexOf(g)<=0))){appendAsset(k,c,m,j,a,h,b)
}else{if(l==="eventsearchjson"&&b.toLowerCase().indexOf(g)>=0){appendAsset(k,c,m,j,a,h,b)
}}}}}return d
}function appendAsset(d,c,g,f,a,h,e){if(d.length>0){for(var b=0;
b<d.length;
b++){if(c.indexOf(d[b])>-1&&c.length>0){$(".damSearch").append("<div class='assetContainer searched notInserted' data-tag='"+c+"' data-title='"+h.toLowerCase()+"' data-desc='"+f.toLowerCase()+"' data-dam='"+a.toLowerCase()+"' data-path='"+g+"' data-event='"+e+"' data-filename='"+a+"' data-description='"+f+"' data-fulltitle='"+h+"'></div>");
break
}}}else{$(".damSearch").append("<div class='assetContainer searched notInserted' data-tag='"+c+"' data-title='"+h.toLowerCase()+"' data-desc='"+f.toLowerCase()+"' data-dam='"+a.toLowerCase()+"' data-path='"+g+"' data-event='"+e+"' data-filename='"+a+"' data-description='"+f+"' data-fulltitle='"+h+"'></div>")
}}function makeInactive(b,a){var c=a.split("search");
$(".damSearch").find(".assetContainer.searched:not([data-"+c[0]+"*='"+b+"'])").each(function(){$(this).removeClass("active");
$(this).removeClass("searched")
})
}function setActive(c,h,e,b){var e=e;
var h=h;
var f=true;
var a;
var g;
var d=b.split("search");
if(d[0]=="title"){a=$(".damSearch").find(".assetContainer:not('.active')[data-dam*='"+c+"']:first");
if(a.length==0){a=$(".damSearch").find(".assetContainer:not('.active')[data-title*='"+c+"']:first")
}g=$(".damSearch").find(".assetContainer:not('.active')[data-title*='"+c+"']:last");
if(g.length==0){g=$(".damSearch").find(".assetContainer:not('.active')[data-dam*='"+c+"']:last")
}}else{a=$(".damSearch").find(".assetContainer:not('.active')[data-"+d[0]+"*='"+c+"']:first");
g=$(".damSearch").find(".assetContainer:not('.active')[data-"+d[0]+"*='"+c+"']:last")
}while(e<h&&f){if(d[0]=="title"){a=$(".damSearch").find(".assetContainer:not('.active')[data-dam*='"+c+"']:first");
if(a.length==0){a=$(".damSearch").find(".assetContainer:not('.active')[data-title*='"+c+"']:first")
}}else{a=$(".damSearch").find(".assetContainer:not('.active')[data-"+d[0]+"*='"+c+"']:first")
}if(!a.hasClass("imgLoaded")){loadImg(a)
}if(g.is(a)){f=false
}a.addClass("active");
if(!a.hasClass("searched")){a.addClass("searched")
}e++
}if(d[0]=="title"){lastOfActive=$(".damSearch").find(".assetContainer.active[data-"+d[0]+"*='"+c+"']:last");
if(lastOfActive.length==0){lastOfActive=$(".damSearch").find(".assetContainer.active[data-dam*='"+c+"']:last")
}}else{lastOfActive=$(".damSearch").find(".assetContainer.active[data-"+d[0]+"*='"+c+"']:last")
}if(lastOfActive.is(g)){$(".damSearchLoadMore").hide()
}else{$(".damSearchLoadMore").show()
}return e
}function noMatches(){var a=$(".assetContainer").length;
if(a===0){$(".damSearchLoadMore").hide();
$("#noItemsFound").show()
}}function loadImg(a){a.addClass("imgLoaded");
var f=a.data("path");
var b=a.data("filename");
var e=a.data("fulltitle");
var d=a.data("description");
var c=f+"/"+b+"/_jcr_content/renditions/cq5dam.thumbnail.140.100.png";
var f=f+"/"+b;
a.append("<div class='asset'><a href='"+f+"/_jcr_content/renditions/original' class='lightbox odu-asset'><img src='"+c+"' /></a>\n<p class ='title'>"+e+"</p> <p class='description'>"+d+"</p> </div>")
}function fnCreateSelect(b){var d='<select><option value=""></option>',c,a=b.length;
for(c=0;
c<a;
c++){d+='<option value="'+b[c]+'">'+b[c]+"</option>"
}return d+"</select>"
}$("document").ready(function(){$("#content").find(".smarttable").each(function(){var c=$(this).find("table");
c.addClass("dataTable");
c.addClass("table");
c.addClass("table-striped");
c.addClass("table-bordered");
var e;
var g;
var a;
if($(this).attr("data-paginate")==="true"){e=true
}if($(this).attr("data-sortable")==="true"){g=true
}if($(this).attr("data-searchable")==="true"){a=true
}var f=c.find("tr").first();
var b=f.html();
f.remove();
c.prepend("<thead>"+b+"</thead>");
var d=c.dataTable({bPaginate:e,sPaginationType:"bootstrap",iDisplayLength:25,bSort:g,bFilter:a});
console.log(d);
c.find("tfoot th").each(function(h){if($(this).hasClass("selectable")){this.innerHTML=fnCreateSelect(d.fnGetColumnData(h));
$("select",this).change(function(){d.fnFilter($(this).val(),h)
})
}});
d.addClass("fixedLayout")
})
});
(function(e){var d=".quickfacts2";
var a=0;
e(document).ready(function(){e(".quickfacts2").on("qf-ready"+d,function(h){var f=e(this);
var g=e("section .title",f);
if(!window.enquire){e(window).on("resize"+d,null,g,function(){b(g)
}).trigger("resize")
}else{enquire.register("all and (max-width:767px)",{match:function(){e(window).off(d)
}});
enquire.register("all and (min-width:768px)",{match:function(){e(window).off(d).on("resize"+d,null,g,function(){b(g)
}).trigger("resize")
}})
}})
});
var b=c(function(){var h=arguments[0];
var g=0;
var f;
h.each(function(j){var k=e(this);
var i=k.children("span").outerHeight();
k.data("height",i);
if(i>g){f=k;
g=i
}}).each(function(i){var k=e(this);
var j=g-k.data("height");
if(!j){j=""
}k.css("padding-top",j)
})
},100);
function c(g,i,f){var h;
return function(){var m=this,l=arguments;
var k=function(){h=null;
if(!f){g.apply(m,l)
}};
var j=f&&!h;
clearTimeout(h);
h=setTimeout(k,i);
if(j){g.apply(m,l)
}}
}})($||jQuery);
"use strict";
(function(d){var a=".utility-menu";
var c,e,i,h=0,b=false,j=false;
d(document).ready(function(){if(!window.enquire){return
}enquire.register("all and (max-width:767px)",{match:function(){if(j){g()
}}});
enquire.register("all and (min-width:768px)",{deferSetup:true,setup:function(){c=d("#university-utility-links");
e=c.find("ul");
if(e.length>0){j=true;
i=e.get(0);
h=e.height()
}e.addClass("ready")
},match:function(){if(!j){return
}d(window).on("resize"+a,f).triggerHandler("resize")
},unmatch:function(){if(!j){return
}g()
}})
});
function g(){d(window).off(a);
e.children("li").filter(".more").remove().end().css("visibility","");
b=false
}function f(){if(!b&&h<i.scrollHeight-2){var k=d('<li class="more"><a href="#">Quick Links <i class="fa fa-angle-down"></i></a></li>');
k.append(e.clone().attr("class",""));
e.addClass("collapsed").prepend(k);
b=true
}else{if(b&&h>=i.scrollHeight-2){e.children("li").filter(".more").remove().end().end().removeClass("collapsed");
b=false
}}}})($||jQuery);
(function(b){function a(c){if(!console||!console.log){return
}console.log(c)
}b(document).ready(function(){if(b.fn.typeahead){var f=false;
var g=false;
var h=b("#university-search");
var i=b("input[name='q']",h);
var e=[];
var d=b("<div></div>");
var c="/content/odu/search/a-to-z-global.html #page-container";
a("Starting to load search data...");
g=true;
d.load(c,function(k,j,m){if(j=="error"){f=true;
return
}var l=d.find(".search-listitem");
l.each(function(n){var p=b(this).children("h2.category-head").get(0);
var o=[];
b(this).find(">ul.category>li>a").each(function(){o.push({value:b(this).text(),url:b(this).attr("href")})
});
e.push({name:"dataset-"+n,limit:10,header:p,local:o})
});
f=true;
g=false;
i.typeahead(e).on("typeahead:opened",function(n){var p=b(n.target);
var o=p.siblings(".tt-dropdown-menu");
if(o&&o.length){o.css("max-height",b(window).height()*0.3333)
}}).on("typeahead:selected",function(p,o){var n=o.url;
if(n.indexOf("/")===0){}top.location=n
});
a("Typeahead initialized")
});
i.on("focus",function(j){if(g){a("Search data is still loading");
return true
}})
}})
})($||jQuery);
(function(){var a=".sectionnavigation";
$(document).ready(function(){if(!window.enquire){return
}var b=$(".sectionnavigation");
b.on("click"+a,"li.has-sub>span>a.toggle,h2>a",function(d){d.preventDefault();
var c=$(this);
c.toggleClass("open");
if(c.hasClass("open")){$(this).parent().next("ul").slideDown("fast")
}else{$(this).parent().next("ul").slideUp("fast")
}});
enquire.register("all and (max-width:767px)",{match:function(){b.clone(true).addClass("mobile").insertBefore($(".breadcrumb-trail"))
},unmatch:function(){$(".sectionnavigation.mobile").remove()
}})
})
})($||jQuery);
(function(){$(document).ready(function(){var a=".news-and-events";
var b=true;
$(a).on("click"+a,">ul a",function(j){j.preventDefault();
var l=$(this);
var c=l.attr("href");
var d=c.replace("#","");
var k=l.closest(a);
var h=k.find("[data-slider]").first();
var f=l.closest(a).find('[data-slider="'+d+'"]');
l.closest("ul").find(">li a.active").removeClass("active").end().end().addClass("active");
h.fadeOut("fast");
f.addClass("invisible").css("display","").prependTo($(this).closest(a).find(".container").first());
var i=f.children(".slider");
var g=i.hasClass("slick-initialized");
if(!g||b){g&&i.slick("unslick");
i.slick({slidesToShow:4,slidesToScroll:4,responsive:[{breakpoint:990,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]})
}f.removeClass("invisible").hide().fadeIn(function(){$(this).css("display","")
})
});
$(window).on("resize"+a,function(){b=true
})
})
})($||jQuery);
if(typeof console==="undefined"){console={log:function(){}}
}window.Modernizr=function(an,am,al){function H(b){ae.cssText=b
}function Y(d,c){return H(ab.join(d+";")+(c||""))
}function W(d,c){return typeof d===c
}function U(d,c){return !!~(""+d).indexOf(c)
}function S(f,c){for(var h in f){var g=f[h];
if(!U(g,"-")&&ae[g]!==al){return c=="pfx"?g:!0
}}return !1
}function Q(g,c,j){for(var i in g){var h=c[g[i]];
if(h!==al){return j===!1?g[i]:W(h,"function")?h.bind(j||c):h
}}return !1
}function O(g,f,j){var i=g.charAt(0).toUpperCase()+g.slice(1),h=(g+" "+Z.join(i+" ")+i).split(" ");
return W(f,"string")||W(f,"undefined")?S(h,f):(h=(g+" "+X.join(i+" ")+i).split(" "),Q(h,f,j))
}var ak="2.6.2",aj={},ai=!0,ah=am.documentElement,ag="modernizr",af=am.createElement(ag),ae=af.style,ad,ac={}.toString,ab=" -webkit- -moz- -o- -ms- ".split(" "),aa="Webkit Moz O ms",Z=aa.split(" "),X=aa.toLowerCase().split(" "),V={},T={},R={},P=[],N=P.slice,M,K=function(v,u,t,s){var r,q,p,o,h=am.createElement("div"),g=am.body,b=g||am.createElement("body");
if(parseInt(t,10)){while(t--){p=am.createElement("div"),p.id=s?s[t]:ag+(t+1),h.appendChild(p)
}}return r=["&#173;",'<style id="s',ag,'">',v,"</style>"].join(""),h.id=ag,(g?h:b).innerHTML+=r,b.appendChild(h),g||(b.style.background="",b.style.overflow="hidden",o=ah.style.overflow,ah.style.overflow="hidden",ah.appendChild(b)),q=u(h,v),g?h.parentNode.removeChild(h):(b.parentNode.removeChild(b),ah.style.overflow=o),!!q
},J={}.hasOwnProperty,I;
!W(J,"undefined")&&!W(J.call,"undefined")?I=function(d,c){return J.call(d,c)
}:I=function(d,c){return c in d&&W(d.constructor.prototype[c],"undefined")
},Function.prototype.bind||(Function.prototype.bind=function(a){var h=this;
if(typeof h!="function"){throw new TypeError
}var g=N.call(arguments,1),f=function(){if(this instanceof f){var b=function(){};
b.prototype=h.prototype;
var d=new b,c=h.apply(d,g.concat(N.call(arguments)));
return Object(c)===c?c:d
}return h.apply(a,g.concat(N.call(arguments)))
};
return f
}),V.csstransforms=function(){return !!O("transform")
},V.csstransforms3d=function(){var b=!!O("perspective");
return b&&"webkitPerspective" in ah.style&&K("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(a,d){b=a.offsetLeft===9&&a.offsetHeight===3
}),b
},V.csstransitions=function(){return O("transition")
};
for(var L in V){I(V,L)&&(M=L.toLowerCase(),aj[M]=V[L](),P.push((aj[M]?"":"no-")+M))
}return aj.addTest=function(e,c){if(typeof e=="object"){for(var f in e){I(e,f)&&aj.addTest(f,e[f])
}}else{e=e.toLowerCase();
if(aj[e]!==al){return aj
}c=typeof c=="function"?c():c,typeof ai!="undefined"&&ai&&(ah.className+=" "+(c?"":"no-")+e),aj[e]=c
}return aj
},H(""),af=ad=null,aj._version=ak,aj._prefixes=ab,aj._domPrefixes=X,aj._cssomPrefixes=Z,aj.testProp=function(b){return S([b])
},aj.testAllProps=O,aj.testStyles=K,ah.className=ah.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(ai?" js "+P.join(" "):""),aj
}(this,this.document),function(ad,ac,ab){function aa(b){return"[object Function]"==P.call(b)
}function Z(b){return"string"==typeof b
}function Y(){}function X(b){return !b||"loaded"==b||"complete"==b||"uninitialized"==b
}function W(){var b=O.shift();
M=1,b?b.t?R(function(){("c"==b.t?L.injectCss:L.injectJs)(b.s,0,b.a,b.x,b.e,1)
},0):(b(),W()):M=0
}function V(w,v,t,s,q,p,n){function m(a){if(!g&&X(h.readyState)&&(x.r=g=1,!M&&W(),h.onload=h.onreadystatechange=null,a)){"img"!=w&&R(function(){I.removeChild(h)
},50);
for(var c in D[v]){D[v].hasOwnProperty(c)&&D[v][c].onload()
}}}var n=n||L.errorTimeout,h=ac.createElement(w),g=0,b=0,x={t:t,s:v,e:q,a:p,x:n};
1===D[v]&&(b=1,D[v]=[]),"object"==w?h.data=v:(h.src=v,h.type=w),h.width=h.height="0",h.onerror=h.onload=h.onreadystatechange=function(){m.call(this,b)
},O.splice(s,0,x),"img"!=w&&(b||2===D[v]?(I.insertBefore(h,J?null:Q),R(m,n)):D[v].push(h))
}function U(g,e,j,i,h){return M=0,e=e||"j",Z(g)?V("c"==e?G:H,g,e,this.i++,j,i,h):(O.splice(this.i++,0,g),1==O.length&&W()),this
}function T(){var b=L;
return b.loader={load:U,i:0},b
}var S=ac.documentElement,R=ad.setTimeout,Q=ac.getElementsByTagName("script")[0],P={}.toString,O=[],M=0,K="MozAppearance" in S.style,J=K&&!!ac.createRange().compareNode,I=J?S:Q.parentNode,S=ad.opera&&"[object Opera]"==P.call(ad.opera),S=!!ac.attachEvent&&!S,H=K?"object":S?"script":"img",G=S?"script":H,F=Array.isArray||function(b){return"[object Array]"==P.call(b)
},E=[],D={},C={timeout:function(d,c){return c.length&&(d.timeout=c[0]),d
}},N,L;
L=function(e){function c(i){var i=i.split("!"),h=E.length,q=i.pop(),p=i.length,q={url:q,origUrl:q,prefixes:i},o,l,j;
for(l=0;
l<p;
l++){j=i[l].split("="),(o=C[j.shift()])&&(q=o(q,j))
}for(l=0;
l<h;
l++){q=E[l](q)
}return q
}function n(b,s,r,q,p){var o=c(b),l=o.autoCallback;
o.url.split(".").pop().split("?").shift(),o.bypass||(s&&(s=aa(s)?s:s[b]||s[q]||s[b.split("/").pop().split("?")[0]]),o.instead?o.instead(b,s,r,q,p):(D[o.url]?o.noexec=!0:D[o.url]=1,r.load(o.url,o.forceCSS||!o.forceJS&&"css"==o.url.split(".").pop().split("?").shift()?"c":ab,o.noexec,o.attrs,o.timeout),(aa(s)||aa(l))&&r.load(function(){T(),s&&s(o.origUrl,p,q),l&&l(o.origUrl,p,q),D[o.url]=2
})))
}function m(w,v){function u(b,h){if(b){if(Z(b)){h||(r=function(){var i=[].slice.call(arguments);
q.apply(this,i),p()
}),n(b,r,v,0,t)
}else{if(Object(b)===b){for(g in o=function(){var a=0,i;
for(i in b){b.hasOwnProperty(i)&&a++
}return a
}(),b){b.hasOwnProperty(g)&&(!h&&!--o&&(aa(r)?r=function(){var i=[].slice.call(arguments);
q.apply(this,i),p()
}:r[g]=function(i){return function(){var a=[].slice.call(arguments);
i&&i.apply(this,a),p()
}
}(q[g])),n(b[g],r,v,g,t))
}}}}else{!h&&p()
}}var t=!!w.test,s=w.load||w.both,r=w.callback||Y,q=r,p=w.complete||Y,o,g;
u(t?w.yep:w.nope,!!s),s&&u(s)
}var k,f,d=this.yepnope.loader;
if(Z(e)){n(e,0,d,0)
}else{if(F(e)){for(k=0;
k<e.length;
k++){f=e[k],Z(f)?n(f,0,d,0):F(f)?L(f):Object(f)===f&&m(f,d)
}}else{Object(e)===e&&m(e,d)
}}},L.addPrefix=function(d,c){C[d]=c
},L.addFilter=function(b){E.push(b)
},L.errorTimeout=10000,null==ac.readyState&&ac.addEventListener&&(ac.readyState="loading",ac.addEventListener("DOMContentLoaded",N=function(){ac.removeEventListener("DOMContentLoaded",N,0),ac.readyState="complete"
},0)),ad.yepnope=T(),ad.yepnope.executeStack=W,ad.yepnope.injectJs=function(r,q,p,n,m,h){var g=ac.createElement("script"),f,b,n=n||L.errorTimeout;
g.src=r;
for(b in p){g.setAttribute(b,p[b])
}q=h?W:q||Y,g.onreadystatechange=g.onload=function(){!f&&X(g.readyState)&&(f=1,q(),g.onload=g.onreadystatechange=null)
},R(function(){f||(f=1,q(1))
},n),m?g.onload():Q.parentNode.insertBefore(g,Q)
},ad.yepnope.injectCss=function(b,n,m,l,k,h){var l=ac.createElement("link"),f,n=h?W:n||Y;
l.href=b,l.rel="stylesheet",l.type="text/css";
for(f in m){l.setAttribute(f,m[f])
}k||(Q.parentNode.insertBefore(l,Q),R(n,0))
}
}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))
},Modernizr.addTest("progressbar",function(){return document.createElement("progress").max!==undefined
}),Modernizr.addTest("meter",function(){return document.createElement("meter").max!==undefined
});
/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. Dual MIT/BSD license */
;
window.matchMedia||(window.matchMedia=function(){var b=(window.styleMedia||window.media);
if(!b){var c=document.createElement("style"),a=document.getElementsByTagName("script")[0],d=null;
c.type="text/css";
c.id="matchmediajs-test";
a.parentNode.insertBefore(c,a);
d=("getComputedStyle" in window)&&window.getComputedStyle(c,null)||c.currentStyle;
b={matchMedium:function(e){var f="@media "+e+"{ #matchmediajs-test { width: 1px; } }";
if(c.styleSheet){c.styleSheet.cssText=f
}else{c.textContent=f
}return d.width==="1px"
}}
}return function(e){return{matches:b.matchMedium(e||"all"),media:e||"all"}
}
}());
/*! matchMedia() polyfill addListener/removeListener extension. Author & copyright (c) 2012: Scott Jehl. Dual MIT/BSD license */
(function(){if(window.matchMedia&&window.matchMedia("all").addListener){return false
}var e=window.matchMedia,a=e("only all").matches,d=false,f=0,c=[],b=function(g){clearTimeout(f);
f=setTimeout(function(){for(var n=0,k=c.length;
n<k;
n++){var h=c[n].mql,o=c[n].listeners||[],p=e(h.media).matches;
if(p!==h.matches){h.matches=p;
for(var l=0,m=o.length;
l<m;
l++){o[l].call(window,h)
}}}},30)
};
window.matchMedia=function(j){var g=e(j),i=[],h=0;
g.addListener=function(k){if(!a){return
}if(!d){d=true;
window.addEventListener("resize",b,true)
}if(h===0){h=c.push({mql:g,listeners:i})
}i.push(k)
};
g.removeListener=function(m){for(var l=0,k=i.length;
l<k;
l++){if(i[l]===m){i.splice(l,1)
}}};
return g
}
}());
/*!
 * enquire.js v2.1.2 - Awesome Media Queries in JavaScript
 * Copyright (c) 2014 Nick Williams - http://wicky.nillia.ms/enquire.js
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */
;
!function(f,e,h){var g=window.matchMedia;
"undefined"!=typeof module&&module.exports?module.exports=h(g):"function"==typeof define&&define.amd?define(function(){return e[f]=h(g)
}):e[f]=h(g)
}("enquire",this,function(i){function h(g,f){var q,p=0,o=g.length;
for(p;
o>p&&(q=f(g[p],p),q!==!1);
p++){}}function n(b){return"[object Array]"===Object.prototype.toString.apply(b)
}function m(b){return"function"==typeof b
}function l(b){this.options=b,!b.deferSetup&&this.setup()
}function k(a,f){this.query=a,this.isUnconditional=f,this.handlers=[],this.mql=i(a);
var e=this;
this.listener=function(b){e.mql=b,e.assess()
},this.mql.addListener(this.listener)
}function j(){if(!i){throw new Error("matchMedia not present, legacy browsers require a polyfill")
}this.queries={},this.browserIsIncapable=!i("only all").matches
}return l.prototype={setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0
},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()
},off:function(){this.options.unmatch&&this.options.unmatch()
},destroy:function(){this.options.destroy?this.options.destroy():this.off()
},equals:function(b){return this.options===b||this.options.match===b
}},k.prototype={addHandler:function(d){var c=new l(d);
this.handlers.push(c),this.matches()&&c.on()
},removeHandler:function(b){var d=this.handlers;
h(d,function(a,c){return a.equals(b)?(a.destroy(),!d.splice(c,1)):void 0
})
},matches:function(){return this.mql.matches||this.isUnconditional
},clear:function(){h(this.handlers,function(b){b.destroy()
}),this.mql.removeListener(this.listener),this.handlers.length=0
},assess:function(){var b=this.matches()?"on":"off";
h(this.handlers,function(a){a[b]()
})
}},j.prototype={register:function(b,o,f){var d=this.queries,c=f&&this.browserIsIncapable;
return d[b]||(d[b]=new k(b,c)),m(o)&&(o={match:o}),n(o)||(o=[o]),h(o,function(a){m(a)&&(a={match:a}),d[b].addHandler(a)
}),this
},unregister:function(e,d){var f=this.queries[e];
return f&&(d?f.removeHandler(d):(f.clear(),delete this.queries[e])),this
}},new j
});
"use strict";
(function(){var b=".main-menu";
function a(){if($("#university-mobile-menu").length){return
}var g=$('<div id="university-mobile-menu" class="mobile-menu"></div>');
var e=$("#university-header");
var f=$("#university-audience-menu").clone();
var d=$("#university-utility-links").clone();
var c=$("#university-main-menu").clone();
var h=$('<div class="menu-mask" id="mask"></div>');
g.append(c).append(d).append(f);
g.find(".flyout").parent().addClass("has-flyout");
f.find("p+ul").addClass("flyout").prev("p").addBack().wrapAll("<div></div>").parent().addClass("has-flyout");
d.find("input[name='q']").attr("placeholder","Search ODU").typeahead("destroy");
g.find(".has-flyout").each(function(i){$(this).append($('<a class="toggle-flyout" href="#"><i class="closed fa fa-angle-down"></i><i class="open fa fa-angle-up"></i></a>'))
});
$("#university-mobile-menu-toggle").on("click",function(j){j.preventDefault();
var i=$("#university-mobile-menu");
if(!i.is(":visible")){h.appendTo("body").fadeOut(0).fadeIn("fast")
}else{h.fadeOut("fast",function(){$(this).remove()
})
}i.slideToggle("fast")
});
g.on("click",".has-flyout>a.toggle-flyout",function(i){i.preventDefault();
$(this).css("max-height",$(this).siblings("a,p").outerHeight()).parent().toggleClass("open").children(".flyout").slideToggle("fast",function(){h.css("height",g.outerHeight())
})
});
$("body").data("$mobileMenu",g.clone(true))
}$(document).ready(function(){var d=$("#university-audience-menu");
$.fn.reverse=[].reverse;
function c(){var e=d.find(".right");
var f=e.parent();
e.remove();
e.reverse();
e.appendTo(f)
}enquire.register("all and (max-width:767px)",{deferSetup:true,setup:function(){a()
},match:function(){$("body").data("$mobileMenu").appendTo($("#university-header"))
},unmatch:function(){$("#mask").remove();
$("#university-mobile-menu").detach()
}});
enquire.register("all and (min-width:768px)",{deferSetup:true,setup:function(){$("#page-container>section>header").on("click","a.info",function(f){f.preventDefault(f);
$(this).toggleClass("active");
$(this).hasClass("active")&&$(this).next(".image-description").fadeIn("fast")||$(this).next(".image-description").fadeOut("fast")
})
},match:function(){$("#university-main-menu").on("mouseover"+b,"nav>ul>li.has-flyout",function(h){var i=$(this);
var f=i.children(".flyout");
i.addClass("hover");
var g=i.width();
if(g>parseInt(f.css("min-width"))){f.css("min-width",i.width())
}}).on("mouseleave"+b,"nav>ul>li.has-flyout",function(g){var h=$(this);
var f=h.children(".flyout");
h.removeClass("hover");
f.css("min-width","")
})
},unmatch:function(){$("#university-main-menu").off(b)
}});
enquire.register("all and (max-width:1279px)",{match:function(){c();
var f=d.find("li").filter(":not('.static')").clone();
var g=d.find("li.more");
var e=f.wrapAll('<ul class="flyout"></ul>').parent();
e.appendTo(g)
},unmatch:function(){c();
d.find("li.more>ul.flyout").remove()
}})
})
})(jQuery);
/*!
 * jQuery Transit - CSS3 transitions and transformations
 * Copyright(c) 2011 Rico Sta. Cruz <rico@ricostacruz.com>
 * MIT Licensed.
 *
 * http://ricostacruz.com/jquery.transit
 * http://github.com/rstacruz/jquery.transit
 */
(function(k){k.transit={version:"0.1.3",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:true,useTransitionEnd:false};
var d=document.createElement("div");
var p={};
function b(u){var t=["Moz","Webkit","O","ms"];
var q=u.charAt(0).toUpperCase()+u.substr(1);
if(u in d.style){return u
}for(var s=0;
s<t.length;
++s){var r=t[s]+q;
if(r in d.style){return r
}}}function e(){d.style[p.transform]="";
d.style[p.transform]="rotateY(90deg)";
return d.style[p.transform]!==""
}var a=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;
p.transition=b("transition");
p.transitionDelay=b("transitionDelay");
p.transform=b("transform");
p.transformOrigin=b("transformOrigin");
p.transform3d=e();
k.extend(k.support,p);
var i={MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"};
var f=p.transitionEnd=i[p.transition]||null;
d=null;
k.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)"};
k.cssHooks.transform={get:function(q){return k(q).data("transform")
},set:function(r,q){var s=q;
if(!(s instanceof j)){s=new j(s)
}if(p.transform==="WebkitTransform"){r.style[p.transform]=s.toString(true)
}else{r.style[p.transform]=s.toString()
}k(r).data("transform",s)
}};
k.cssHooks.transformOrigin={get:function(q){return q.style[p.transformOrigin]
},set:function(q,r){q.style[p.transformOrigin]=r
}};
k.cssHooks.transition={get:function(q){return q.style[p.transition]
},set:function(q,r){q.style[p.transition]=r
}};
n("scale");
n("translate");
n("rotate");
n("rotateX");
n("rotateY");
n("rotate3d");
n("perspective");
n("skewX");
n("skewY");
n("x",true);
n("y",true);
function j(q){if(typeof q==="string"){this.parse(q)
}return this
}j.prototype={setFromString:function(s,r){var q=(typeof r==="string")?r.split(","):(r.constructor===Array)?r:[r];
q.unshift(s);
j.prototype.set.apply(this,q)
},set:function(r){var q=Array.prototype.slice.apply(arguments,[1]);
if(this.setter[r]){this.setter[r].apply(this,q)
}else{this[r]=q.join(",")
}},get:function(q){if(this.getter[q]){return this.getter[q].apply(this)
}else{return this[q]||0
}},setter:{rotate:function(q){this.rotate=o(q,"deg")
},rotateX:function(q){this.rotateX=o(q,"deg")
},rotateY:function(q){this.rotateY=o(q,"deg")
},scale:function(q,r){if(r===undefined){r=q
}this.scale=q+","+r
},skewX:function(q){this.skewX=o(q,"deg")
},skewY:function(q){this.skewY=o(q,"deg")
},perspective:function(q){this.perspective=o(q,"px")
},x:function(q){this.set("translate",q,null)
},y:function(q){this.set("translate",null,q)
},translate:function(q,r){if(this._translateX===undefined){this._translateX=0
}if(this._translateY===undefined){this._translateY=0
}if(q!==null){this._translateX=o(q,"px")
}if(r!==null){this._translateY=o(r,"px")
}this.translate=this._translateX+","+this._translateY
}},getter:{x:function(){return this._translateX||0
},y:function(){return this._translateY||0
},scale:function(){var q=(this.scale||"1,1").split(",");
if(q[0]){q[0]=parseFloat(q[0])
}if(q[1]){q[1]=parseFloat(q[1])
}return(q[0]===q[1])?q[0]:q
},rotate3d:function(){var r=(this.rotate3d||"0,0,0,0deg").split(",");
for(var q=0;
q<=3;
++q){if(r[q]){r[q]=parseFloat(r[q])
}}if(r[3]){r[3]=o(r[3],"deg")
}return r
}},parse:function(r){var q=this;
r.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(s,u,t){q.setFromString(u,t)
})
},toString:function(s){var r=[];
for(var q in this){if(this.hasOwnProperty(q)){if((!p.transform3d)&&((q==="translate")||(q==="rotateX")||(q==="rotateY")||(q==="perspective")||(q==="transformOrigin"))){continue
}if(q[0]!=="_"){if(s&&(q==="scale")){r.push(q+"3d("+this[q]+",1)")
}else{if(s&&(q==="translate")){r.push(q+"3d("+this[q]+",0)")
}else{r.push(q+"("+this[q]+")")
}}}}}return r.join(" ")
}};
function m(r,q,s){if(q===true){r.queue(s)
}else{if(q){r.queue(q,s)
}else{s()
}}}function h(r){var q=[];
k.each(r,function(s){s=k.camelCase(s);
s=k.transit.propertyMap[s]||s;
s=c(s);
if(k.inArray(s,q)===-1){q.push(s)
}});
return q
}function g(r,u,w,q){var s=h(r);
if(k.cssEase[w]){w=k.cssEase[w]
}var v=""+l(u)+" "+w;
if(parseInt(q,10)>0){v+=" "+l(q)
}var t=[];
k.each(s,function(y,x){t.push(x+" "+v)
});
return t.join(", ")
}k.fn.transition=k.fn.transit=function(y,r,x,B){var C=this;
var t=0;
var v=true;
if(typeof r==="function"){B=r;
r=undefined
}if(typeof x==="function"){B=x;
x=undefined
}if(typeof y.easing!=="undefined"){x=y.easing;
delete y.easing
}if(typeof y.duration!=="undefined"){r=y.duration;
delete y.duration
}if(typeof y.complete!=="undefined"){B=y.complete;
delete y.complete
}if(typeof y.queue!=="undefined"){v=y.queue;
delete y.queue
}if(typeof y.delay!=="undefined"){t=y.delay;
delete y.delay
}if(typeof r==="undefined"){r=k.fx.speeds._default
}if(typeof x==="undefined"){x=k.cssEase._default
}r=l(r);
var D=g(y,r,x,t);
var A=k.transit.enabled&&p.transition;
var s=A?(parseInt(r,10)+parseInt(t,10)):0;
if(s===0){var z=function(E){C.css(y);
if(B){B.apply(C)
}if(E){E()
}};
m(C,v,z);
return C
}var w={};
var q=function(G){var F=false;
var E=function(){if(F){C.unbind(f,E)
}if(s>0){C.each(function(){this.style[p.transition]=(w[this]||null)
})
}if(typeof B==="function"){B.apply(C)
}if(typeof G==="function"){G()
}};
if((s>0)&&(f)&&(k.transit.useTransitionEnd)){F=true;
C.bind(f,E)
}else{window.setTimeout(E,s)
}C.each(function(){if(s>0){this.style[p.transition]=D
}k(this).css(y)
})
};
var u=function(F){var E=0;
if((p.transition==="MozTransition")&&(E<25)){E=25
}window.setTimeout(function(){q(F)
},E)
};
m(C,v,u);
return this
};
function n(r,q){if(!q){k.cssNumber[r]=true
}k.transit.propertyMap[r]=p.transform;
k.cssHooks[r]={get:function(u){var s=(k(u).css("transform")&&k(u).css("transform")!="none")?k(u).css("transform"):new j();
return s.get(r)
},set:function(u,v){var s=(k(u).css("transform")&&k(u).css("transform")!="none")?k(u).css("transform"):new j();
s.setFromString(r,v);
k(u).css({transform:s})
}}
}function c(q){return q.replace(/([A-Z])/g,function(r){return"-"+r.toLowerCase()
})
}function o(r,q){if((typeof r==="string")&&(!r.match(/^[\-0-9\.]+$/))){return r
}else{return""+r+q
}}function l(r){var q=r;
if(k.fx.speeds[q]){q=k.fx.speeds[q]
}return o(q,"ms")
}k.transit.getTransitionValue=g
})(jQuery);
(function(c){c.fn.touch=function(f){this.each(function(){e(c(this),f)
})
};
function e(h,f){var i={axis:"x",animationSpeed:500,follow:true,preventDefault:true,responsive:true,threshold:100,trailers:[],touchStart:null,touchCancel:null,touchMove:null,touchEnd:null,touchEndLeft:null,touchEndRight:null,touchEndUp:null,touchEndDown:null};
var g={element:h,elements:[],elementPositions:[],options:c.extend(i,f),isTransforms3d:false,startX:0,startY:0,offsetX:0,offsetX:0,diffX:0,diffY:0,origTranslateX:0,origTranslateY:0,init:function(){if(Modernizr.csstransforms3d){this.isTransforms3d=true
}this.elements=this.options.trailers;
this.elements.push(this.element);
if(typeof this.element[0].addEventListener!=="undefined"){this.element.unbind("touchstart");
this.element[0].addEventListener("touchstart",function(j){g.diffX=0;
g.diffY=0;
g.offsetX=(c(window).width()-g.element.outerWidth(true))/2;
g.startX=j.targetTouches[0].pageX-g.offsetX;
g.offsetY=(c(window).height()-g.element.outerHeight(true))/2;
g.startY=j.targetTouches[0].pageY-g.offsetY;
if(g.options.follow){for(h=0;
h<g.elements.length;
h++){if(g.isTransforms3d){g.elementPositions[h]={origTranslateX:parseInt(g.elements[h].css("x").replace("px","")),origTranslateY:parseInt(g.elements[h].css("y").replace("px",""))}
}else{g.elementPositions[h]={origTranslateX:parseInt(g.elements[h].position().left),origTranslateY:parseInt(g.elements[h].position().top)}
}}}g.callback("touchStart")
},false);
this.element.unbind("touchmove");
this.element[0].addEventListener("touchmove",function(j){g.diffX=(j.changedTouches[0].pageX-g.offsetX)-g.startX;
g.diffY=(j.changedTouches[0].pageY-g.offsetY)-g.startY;
if(g.options.axis=="both"){if(g.options.preventDefault){j.preventDefault()
}if(g.options.follow){g.follow(g.diffX,g.diffY)
}g.callback("touchMove")
}else{if(g.options.axis=="x"&&Math.abs(g.diffX)>Math.abs(g.diffY)){if(g.options.preventDefault){j.preventDefault()
}if(g.options.follow){g.follow(g.diffX,0)
}g.callback("touchMove")
}else{if(g.options.axis=="y"&&Math.abs(g.diffX)<Math.abs(g.diffY)){if(g.options.preventDefault){j.preventDefault()
}if(g.options.follow){g.follow(0,g.diffY)
}g.callback("touchMove")
}else{return true
}}}},false);
this.element.unbind("touchend");
this.element[0].addEventListener("touchend",function(k){var j=g.options.threshold;
if(g.options.responsive&&g.element.width()<768){j=j/2
}if(g.options.axis=="both"&&(Math.abs(g.diffX)>j||Math.abs(g.diffY)>j)){if(Math.abs(g.diffX)>j){if(g.diffX>0){g.callback("touchEndRight")
}else{g.callback("touchEndLeft")
}}if(Math.abs(g.diffY)>j){if(g.diffY>0){g.callback("touchEndDown")
}else{g.callback("touchEndUp")
}}}else{if(g.options.axis=="x"&&Math.abs(g.diffX)>j){if(g.diffX>0){g.callback("touchEndRight")
}else{g.callback("touchEndLeft")
}}else{if(g.options.axis=="y"&&Math.abs(g.diffY)>j){if(g.diffY>0){g.callback("touchEndDown")
}else{g.callback("touchEndUp")
}}else{if(g.options.follow){for(h=0;
h<g.elements.length;
h++){if(g.isTransforms3d){g.elements[h].transition({x:g.elementPositions[h].origTranslateX,y:g.elementPositions[h].origTranslateY},g.options.animationSpeed,"in-out")
}else{g.elements[h].transition({left:g.elementPositions[h].origTranslateX,top:g.elementPositions[h].origTranslateY},g.options.animationSpeed,"linear")
}}}g.callback("touchCancel")
}}}return true
},false)
}},follow:function(k,j){for(h=0;
h<g.elements.length;
h++){if(g.isTransforms3d){g.elements[h].css({x:(g.elementPositions[h].origTranslateX+k),y:(g.elementPositions[h].origTranslateY+j)})
}else{g.elements[h].css({left:(g.elementPositions[h].origTranslateX+k),top:(g.elementPositions[h].origTranslateY+j)})
}}},reset:function(){g.startX=0;
g.startY=0;
g.offsetX=0;
g.offsetX=0;
g.diffX=0;
g.diffY=0;
for(h=0;
h<g.elements.length;
h++){g.elementPositions[h].origTranslateX=0;
g.elementPositions[h].origTranslateY=0
}},callback:function(j){if(g.options[j]!=null){g.options[j](g)
}}};
g.init();
return g
}c.fn.swipeLeft=function(f){this.each(function(){b("Left",c(this),f)
})
};
c.fn.swipeRight=function(f){this.each(function(){b("Right",c(this),f)
})
};
c.fn.swipeUp=function(f){this.each(function(){b("Up",c(this),f)
})
};
c.fn.swipeDown=function(f){this.each(function(){b("Down",c(this),f)
})
};
function b(h,i,f){var g={element:i,callback:f,direction:h.charAt(0).toUpperCase()+h.slice(1).toLowerCase(),init:function(){var j={};
if(this.direction=="Up"||this.direction=="Down"){j.axis="y"
}if(this.direction=="Left"||this.direction=="Right"){j.axis="x"
}j["touchEnd"+this.direction]=function(k){g.callback(k)
};
j.follow=false;
this.element.touch(j)
}};
g.init();
return g
}c.fn.tap=function(f){this.each(function(){a(c(this),f)
})
};
function a(h,f){var g={element:h,callback:f,init:function(){this.element.touch({axis:"both",follow:false,touchCancel:function(i){g.callback(i)
}})
}};
g.init();
return g
}c.fn.touchstart=function(f){this.each(function(){d(c(this),f)
})
};
function d(h,f){var g={element:h,callback:f,init:function(){this.element.touch({axis:"both",follow:false,touchStart:function(i){g.callback(i)
}})
}};
g.init();
return g
}})(jQuery);
window.innerShiv=(function(){var d,r;
return function(h,u){if(!d){d=document.createElement("div");
r=document.createDocumentFragment();
/*@cc_on d.style.display = 'none';@*/

}var e=d.cloneNode(true);
/*@cc_on document.body.appendChild(e);@*/
;
e.innerHTML=h.replace(/^\s\s*/,"").replace(/\s\s*$/,"");
/*@cc_on document.body.removeChild(e);@*/
;
if(u===false){return e.childNodes
}var f=r.cloneNode(true),i=e.childNodes.length;
while(i--){f.appendChild(e.firstChild)
}return f
}
}());
(function(g){g.fn.adGallery=function(j){var l={loader_image:"loader.gif",start_at_index:0,description_wrapper:false,thumb_opacity:0.7,animate_first_image:false,animation_speed:400,width:false,height:false,display_next_and_prev:true,display_back_and_forward:true,scroll_jump:0,slideshow:{enable:true,autostart:false,speed:5000,start_label:"Start",stop_label:"Stop",stop_on_scroll:true,countdown_prefix:"(",countdown_sufix:")",onStart:false,onStop:false},effect:"slide-hori",enable_keyboard_move:true,cycle:true,callbacks:{init:false,afterImageVisible:false,beforeImageVisible:false}};
var k=g.extend(false,l,j);
if(j&&j.slideshow){k.slideshow=g.extend(false,l.slideshow,j.slideshow)
}if(!k.slideshow.enable){k.slideshow.autostart=false
}var i=[];
g(this).each(function(){var m=new c(this,k);
i[i.length]=m
});
return i
};
function f(j,k,l){var m=parseInt(j.css("top"),10);
if(k=="left"){var i="-"+this.image_wrapper_height+"px";
j.css("top",this.image_wrapper_height+"px")
}else{var i=this.image_wrapper_height+"px";
j.css("top","-"+this.image_wrapper_height+"px")
}if(l){l.css("bottom","-"+l[0].offsetHeight+"px");
l.animate({bottom:0},this.settings.animation_speed*2)
}if(this.current_description){this.current_description.animate({bottom:"-"+this.current_description[0].offsetHeight+"px"},this.settings.animation_speed*2)
}return{old_image:{top:i},new_image:{top:m}}
}function e(j,k,m){var l=parseInt(j.css("left"),10);
if(k=="left"){var i="-"+this.image_wrapper_width+"px";
j.css("left",this.image_wrapper_width+"px")
}else{var i=this.image_wrapper_width+"px";
j.css("left","-"+this.image_wrapper_width+"px")
}if(m){m.css("bottom","-"+m[0].offsetHeight+"px");
m.animate({bottom:0},this.settings.animation_speed*2)
}if(this.current_description){this.current_description.animate({bottom:"-"+this.current_description[0].offsetHeight+"px"},this.settings.animation_speed*2)
}return{old_image:{left:i},new_image:{left:l}}
}function d(k,l,n){var j=k.width();
var i=k.height();
var m=parseInt(k.css("left"),10);
var o=parseInt(k.css("top"),10);
k.css({width:0,height:0,top:this.image_wrapper_height/2,left:this.image_wrapper_width/2});
return{old_image:{width:0,height:0,top:this.image_wrapper_height/2,left:this.image_wrapper_width/2},new_image:{width:j,height:i,top:o,left:m}}
}function b(i,j,k){i.css("opacity",0);
return{old_image:{opacity:0},new_image:{opacity:1}}
}function h(i,j,k){i.css("opacity",0);
return{old_image:{opacity:0},new_image:{opacity:1},speed:0}
}function c(j,i){this.init(j,i)
}c.prototype={wrapper:false,image_wrapper:false,gallery_info:false,nav:false,loader:false,preloads:false,thumbs_wrapper:false,scroll_back:false,scroll_forward:false,next_link:false,prev_link:false,slideshow:false,image_wrapper_width:0,image_wrapper_height:0,current_index:0,current_image:false,current_description:false,nav_display_width:0,settings:false,images:false,in_transition:false,animations:false,init:function(m,l){var k=this;
this.wrapper=g(m);
this.settings=l;
this.setupElements();
this.setupAnimations();
if(this.settings.width){this.image_wrapper_width=this.settings.width;
this.image_wrapper.width(this.settings.width);
this.wrapper.width(this.settings.width)
}else{this.image_wrapper_width=this.image_wrapper.width()
}if(this.settings.height){this.image_wrapper_height=this.settings.height;
this.image_wrapper.height(this.settings.height)
}else{this.image_wrapper_height=this.image_wrapper.height()
}this.nav_display_width=this.nav.width();
this.current_index=0;
this.current_image=false;
this.current_description=false;
this.in_transition=false;
this.findImages();
if(this.settings.display_next_and_prev){this.initNextAndPrev()
}var i=function(n){return k.nextImage(n)
};
this.slideshow=new a(i,this.settings.slideshow);
this.controls.append(this.slideshow.create());
if(this.settings.slideshow.enable){this.slideshow.enable()
}else{this.slideshow.disable()
}if(this.settings.display_back_and_forward){this.initBackAndForward()
}if(this.settings.enable_keyboard_move){this.initKeyEvents()
}var j=parseInt(this.settings.start_at_index,10);
if(window.location.hash&&window.location.hash.indexOf("#ad-image")===0){j=window.location.hash.replace(/[^0-9]+/g,"");
if((j*1)!=j){j=this.settings.start_at_index
}}this.loading(true);
this.showImage(j,function(){if(k.settings.slideshow.autostart){k.preloadImage(j+1);
k.slideshow.start()
}});
this.fireCallback(this.settings.callbacks.init)
},setupAnimations:function(){this.animations={"slide-vert":f,"slide-hori":e,resize:d,fade:b,none:h}
},setupElements:function(){this.controls=this.wrapper.find(".ad-controls");
this.gallery_info=g('<p class="ad-info"></p>');
this.controls.append(this.gallery_info);
this.image_wrapper=this.wrapper.find(".ad-image-wrapper");
this.image_wrapper.empty();
this.nav=this.wrapper.find(".ad-nav");
this.thumbs_wrapper=this.nav.find(".ad-thumbs");
this.preloads=g('<div class="ad-preloads"></div>');
this.loader=g('<img alt="Loader image" class="ad-loader" src="'+this.settings.loader_image+'">');
this.image_wrapper.append(this.loader);
this.loader.hide();
g(document.body).append(this.preloads)
},loading:function(i){if(i){this.loader.show()
}else{this.loader.hide()
}},addAnimation:function(i,j){if(g.isFunction(j)){this.animations[i]=j
}},findImages:function(){var n=this;
this.images=[];
var m=0;
var l=0;
var k=this.thumbs_wrapper.find("a");
var j=k.length;
if(this.settings.thumb_opacity<1){k.find("img").css("opacity",this.settings.thumb_opacity)
}k.each(function(p){var r=g(this);
var q=r.attr("href");
var o=r.find("img");
if(!n.isImageLoaded(o[0])){o.load(function(){m+=this.parentNode.parentNode.offsetWidth;
l++
})
}else{m+=o[0].parentNode.parentNode.offsetWidth;
l++
}r.addClass("ad-thumb"+p);
r.click(function(){n.showImage(p);
n.slideshow.stop();
return false
}).hover(function(){if(!g(this).is(".ad-active")&&n.settings.thumb_opacity<1){g(this).find("img").fadeTo(300,1)
}n.preloadImage(p)
},function(){if(!g(this).is(".ad-active")&&n.settings.thumb_opacity<1){g(this).find("img").fadeTo(300,n.settings.thumb_opacity)
}});
var r=false;
if(o.data("ad-link")){r=o.data("ad-link")
}else{if(o.attr("longdesc")&&o.attr("longdesc").length){r=o.attr("longdesc")
}}var t=false;
if(o.data("ad-desc")){t=o.data("ad-desc")
}else{if(o.attr("alt")&&o.attr("alt").length){t=o.attr("alt")
}}var s=false;
if(o.data("ad-title")){s=o.data("ad-title")
}else{if(o.attr("title")&&o.attr("title").length){s=o.attr("title")
}}n.images[p]={thumb:o.attr("src"),image:q,error:false,preloaded:false,desc:t,title:s,size:false,link:r}
});
var i=setInterval(function(){if(j==l){m-=100;
var q=n.nav.find(".ad-thumb-list");
q.css("width",m+"px");
var p=1;
var o=q.height();
while(p<201){q.css("width",(m+p)+"px");
if(o!=q.height()){break
}o=q.height();
p++
}clearInterval(i)
}},100)
},initKeyEvents:function(){var i=this;
g(document).keydown(function(j){if(j.keyCode==39){i.nextImage();
i.slideshow.stop()
}else{if(j.keyCode==37){i.prevImage();
i.slideshow.stop()
}}})
},initNextAndPrev:function(){this.next_link=g('<div class="ad-next"><div class="ad-next-image"></div></div>');
this.prev_link=g('<div class="ad-prev"><div class="ad-prev-image"></div></div>');
this.image_wrapper.append(this.next_link);
this.image_wrapper.append(this.prev_link);
var i=this;
this.prev_link.add(this.next_link).mouseover(function(j){g(this).css("height",i.image_wrapper_height);
g(this).find("div").show()
}).mouseout(function(j){g(this).find("div").hide()
}).click(function(){if(g(this).is(".ad-next")){i.nextImage();
i.slideshow.stop()
}else{i.prevImage();
i.slideshow.stop()
}}).find("div").css("opacity",0.7)
},initBackAndForward:function(){var k=this;
this.scroll_forward=g('<div class="ad-forward"></div>');
this.scroll_back=g('<div class="ad-back"></div>');
this.nav.append(this.scroll_forward);
this.nav.prepend(this.scroll_back);
var j=0;
var i=false;
g(this.scroll_back).add(this.scroll_forward).click(function(){var l=k.nav_display_width-50;
if(k.settings.scroll_jump>0){var l=k.settings.scroll_jump
}if(g(this).is(".ad-forward")){var m=k.thumbs_wrapper.scrollLeft()+l
}else{var m=k.thumbs_wrapper.scrollLeft()-l
}if(k.settings.slideshow.stop_on_scroll){k.slideshow.stop()
}k.thumbs_wrapper.animate({scrollLeft:m+"px"});
return false
}).css("opacity",0.6).hover(function(){var l="left";
if(g(this).is(".ad-forward")){l="right"
}i=setInterval(function(){j++;
if(j>30&&k.settings.slideshow.stop_on_scroll){k.slideshow.stop()
}var m=k.thumbs_wrapper.scrollLeft()+1;
if(l=="left"){m=k.thumbs_wrapper.scrollLeft()-1
}k.thumbs_wrapper.scrollLeft(m)
},10);
g(this).css("opacity",1)
},function(){j=0;
clearInterval(i);
g(this).css("opacity",0.6)
})
},_afterShow:function(){this.gallery_info.html((this.current_index+1)+" / "+this.images.length);
if(!this.settings.cycle){this.prev_link.show().css("height",this.image_wrapper_height);
this.next_link.show().css("height",this.image_wrapper_height);
if(this.current_index==(this.images.length-1)){this.next_link.hide()
}if(this.current_index==0){this.prev_link.hide()
}}this.fireCallback(this.settings.callbacks.afterImageVisible)
},_getContainedImageSize:function(j,i){if(i>this.image_wrapper_height){var k=j/i;
i=this.image_wrapper_height;
j=this.image_wrapper_height*k
}if(j>this.image_wrapper_width){var k=i/j;
j=this.image_wrapper_width;
i=this.image_wrapper_width*k
}return{width:j,height:i}
},_centerImage:function(l,j,i){l.css("top","0px");
if(i<this.image_wrapper_height){var k=this.image_wrapper_height-i;
l.css("top",(k/2)+"px")
}l.css("left","0px");
if(j<this.image_wrapper_width){var k=this.image_wrapper_width-j;
l.css("left",(k/2)+"px")
}},_getDescription:function(i){var k=false;
if(i.desc.length||i.title.length){var j="";
if(i.title.length){j='<strong class="ad-description-title">'+i.title+"</strong>"
}var k="";
if(i.desc.length){k="<span>"+i.desc+"</span>"
}k=g('<p class="ad-image-description">'+j+k+"</p>")
}return k
},showImage:function(i,l){if(this.images[i]&&!this.in_transition){var j=this;
var k=this.images[i];
this.in_transition=true;
if(!k.preloaded){this.loading(true);
this.preloadImage(i,function(){j.loading(false);
j._showWhenLoaded(i,l)
})
}else{this._showWhenLoaded(i,l)
}}},_showWhenLoaded:function(q,w){if(this.images[q]){var j=this;
var l=this.images[q];
var m=g(document.createElement("div")).addClass("ad-image");
var o=g(new Image()).attr("src",l.image);
if(l.link){var t=g('<a href="'+l.link+'" target="_blank"></a>');
t.append(o);
m.append(t)
}else{m.append(o)
}this.image_wrapper.prepend(m);
var x=this._getContainedImageSize(l.size.width,l.size.height);
var p=this._getDescription(l,m);
o.attr("alt",p);
o.attr("width",x.width);
o.attr("height",x.height);
m.css({width:x.width+"px",height:x.height+"px"});
this._centerImage(m,x.width,x.height);
if(p){if(!this.settings.description_wrapper){m.append(p);
var i=x.width-parseInt(p.css("padding-left"),10)-parseInt(p.css("padding-right"),10);
p.css("width",i+"px")
}else{this.settings.description_wrapper.append(p)
}}this.highLightThumb(this.nav.find(".ad-thumb"+q));
var u="right";
if(this.current_index<q){u="left"
}this.fireCallback(this.settings.callbacks.beforeImageVisible);
if(this.current_image||this.settings.animate_first_image){var v=this.settings.animation_speed;
var s="swing";
var n=this.animations[this.settings.effect].call(this,m,u,p);
if(typeof n.speed!="undefined"){v=n.speed
}if(typeof n.easing!="undefined"){s=n.easing
}if(this.current_image){var k=this.current_image;
var r=this.current_description;
k.animate(n.old_image,v,s,function(){k.remove();
if(r){r.remove()
}})
}m.animate(n.new_image,v,s,function(){j.current_index=q;
j.current_image=m;
j.current_description=p;
j.in_transition=false;
j._afterShow();
j.fireCallback(w)
})
}else{this.current_index=q;
this.current_image=m;
j.current_description=p;
this.in_transition=false;
j._afterShow();
this.fireCallback(w)
}}},nextIndex:function(){if(this.current_index==(this.images.length-1)){if(!this.settings.cycle){return false
}var i=0
}else{var i=this.current_index+1
}return i
},nextImage:function(j){var i=this.nextIndex();
if(i===false){return false
}this.preloadImage(i+1);
this.showImage(i,j);
return true
},prevIndex:function(){if(this.current_index==0){if(!this.settings.cycle){return false
}var i=this.images.length-1
}else{var i=this.current_index-1
}return i
},prevImage:function(j){var i=this.prevIndex();
if(i===false){return false
}this.preloadImage(i-1);
this.showImage(i,j);
return true
},preloadAll:function(){var k=this;
var j=0;
function l(){if(j<k.images.length){j++;
k.preloadImage(j,l)
}}k.preloadImage(j,l)
},preloadImage:function(j,m){if(this.images[j]){var l=this.images[j];
if(!this.images[j].preloaded){var i=g(new Image());
i.attr("src",l.image);
i.attr("alt",l.desc);
if(!this.isImageLoaded(i[0])){this.preloads.append(i);
var k=this;
i.load(function(){l.preloaded=true;
l.size={width:this.width,height:this.height};
k.fireCallback(m)
}).error(function(){l.error=true;
l.preloaded=false;
l.size=false
})
}else{l.preloaded=true;
l.size={width:i[0].width,height:i[0].height};
this.fireCallback(m)
}}else{this.fireCallback(m)
}}},isImageLoaded:function(i){if(typeof i.complete!="undefined"&&!i.complete){return false
}if(typeof i.naturalWidth!="undefined"&&i.naturalWidth==0){return false
}return true
},highLightThumb:function(i){this.thumbs_wrapper.find(".ad-active").removeClass("ad-active");
i.addClass("ad-active");
if(this.settings.thumb_opacity<1){this.thumbs_wrapper.find("a:not(.ad-active) img").fadeTo(300,this.settings.thumb_opacity);
i.find("img").fadeTo(300,1)
}var j=i[0].parentNode.offsetLeft;
j-=(this.nav_display_width/2)-(i[0].offsetWidth/2);
this.thumbs_wrapper.animate({scrollLeft:j+"px"})
},fireCallback:function(i){if(g.isFunction(i)){i.call(this)
}}};
function a(i,j){this.init(i,j)
}a.prototype={start_link:false,stop_link:false,countdown:false,controls:false,settings:false,nextimage_callback:false,enabled:false,running:false,countdown_interval:false,init:function(i,k){var j=this;
this.nextimage_callback=i;
this.settings=k
},create:function(){this.start_link=g('<span class="ad-slideshow-start">'+this.settings.start_label+"</span>");
this.stop_link=g('<span class="ad-slideshow-stop">'+this.settings.stop_label+"</span>");
this.countdown=g('<span class="ad-slideshow-countdown"></span>');
this.controls=g('<div class="ad-slideshow-controls"></div>');
this.controls.append(this.start_link).append(this.stop_link).append(this.countdown);
this.countdown.hide();
var i=this;
this.start_link.click(function(){i.start()
});
this.stop_link.click(function(){i.stop()
});
g(document).keydown(function(j){if(j.keyCode==83){if(i.running){i.stop()
}else{i.start()
}}});
return this.controls
},disable:function(){this.enabled=false;
this.stop();
this.controls.hide()
},enable:function(){this.enabled=true;
this.controls.show()
},toggle:function(){if(this.enabled){this.disable()
}else{this.enable()
}},start:function(){if(this.running||!this.enabled){return false
}var i=this;
this.running=true;
this.controls.addClass("ad-slideshow-running");
this._next();
this.fireCallback(this.settings.onStart);
return true
},stop:function(){if(!this.running){return false
}this.running=false;
this.countdown.hide();
this.controls.removeClass("ad-slideshow-running");
clearInterval(this.countdown_interval);
this.fireCallback(this.settings.onStop);
return true
},_next:function(){var k=this;
var l=this.settings.countdown_prefix;
var j=this.settings.countdown_sufix;
clearInterval(k.countdown_interval);
this.countdown.show().html(l+(this.settings.speed/1000)+j);
var i=0;
this.countdown_interval=setInterval(function(){i+=1000;
if(i>=k.settings.speed){var n=function(){if(k.running){k._next()
}i=0
};
if(!k.nextimage_callback(n)){k.stop()
}i=0
}var m=parseInt(k.countdown.text().replace(/[^0-9]/g,""),10);
m--;
if(m>0){k.countdown.html(l+m+j)
}},1000)
},fireCallback:function(i){if(g.isFunction(i)){i.call(this)
}}}
})(jQuery);
/*! Copyright (c) 2011 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 * Thanks to: Seamus Leahy for adding deltaX and deltaY
 *
 * Version: 3.0.6
 * 
 * Requires: 1.2.2+
 */
(function(f){function b(h){var d=h||window.event,l=[].slice.call(arguments,1),j=0,k=0,i=0,h=f.event.fix(d);
h.type="mousewheel";
d.wheelDelta&&(j=d.wheelDelta/120);
d.detail&&(j=-d.detail/3);
i=j;
d.axis!==void 0&&d.axis===d.HORIZONTAL_AXIS&&(i=0,k=-1*j);
d.wheelDeltaY!==void 0&&(i=d.wheelDeltaY/120);
d.wheelDeltaX!==void 0&&(k=-1*d.wheelDeltaX/120);
l.unshift(h,j,k,i);
return(f.event.dispatch||f.event.handle).apply(this,l)
}var g=["DOMMouseScroll","mousewheel"];
if(f.event.fixHooks){for(var a=g.length;
a;
){f.event.fixHooks[g[--a]]=f.event.mouseHooks
}}f.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var c=g.length;
c;
){this.addEventListener(g[--c],b,false)
}}else{this.onmousewheel=b
}},teardown:function(){if(this.removeEventListener){for(var c=g.length;
c;
){this.removeEventListener(g[--c],b,false)
}}else{this.onmousewheel=null
}}};
f.fn.extend({mousewheel:function(c){return c?this.bind("mousewheel",c):this.trigger("mousewheel")
},unmousewheel:function(c){return this.unbind("mousewheel",c)
}})
})(jQuery);
/*! fancyBox v2.0.6 fancyapps.com | fancyapps.com/fancybox/#license */
(function(v,g,i,r){var f=i(v),b=i(g),j=i.fancybox=function(){j.open.apply(this,arguments)
},p=!1,h=g.createTouch!==r,c=function(d){return"string"===i.type(d)
},e=function(a,d){d&&c(a)&&0<a.indexOf("%")&&(a=j.getViewport()[d]/100*parseInt(a,10));
return Math.round(a)+"px"
};
i.extend(j,{version:"2.0.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,autoSize:!0,autoResize:!h,autoCenter:!h,fitToView:!0,aspectRatio:!1,topRatio:0.5,fixed:!1,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3000,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},keys:{next:[13,32,34,39,40],prev:[8,33,37,38],close:[27]},tpl:{wrap:'<div class="fancybox-wrap"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe class="fancybox-iframe" name="fancybox-frame{rnd}" frameborder="0" hspace="0"'+(i.browser.msie?' allowtransparency="true"':"")+"></iframe>",swf:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="wmode" value="transparent" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{href}" /><embed src="{href}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="100%" height="100%" wmode="transparent"></embed></object>',error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<div title="Close" class="fancybox-item fancybox-close"></div>',next:'<a title="Next" class="fancybox-nav fancybox-next"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev"><span></span></a>'},openEffect:"fade",openSpeed:300,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:300,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:300,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:300,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:{speedIn:0,speedOut:300,opacity:0.8,css:{cursor:"pointer"},closeClick:!0},title:{type:"float"}}},group:{},opts:{},coming:null,current:null,isOpen:!1,isOpened:!1,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(a,d){j.close(!0);
a&&!i.isArray(a)&&(a=a instanceof i?i(a).get():[a]);
j.isActive=!0;
j.opts=i.extend(!0,{},j.defaults,d);
i.isPlainObject(d)&&d.keys!==r&&(j.opts.keys=d.keys?i.extend({},j.defaults.keys,d.keys):!1);
j.group=a;
j._start(j.opts.index||0)
},cancel:function(){j.coming&&!1===j.trigger("onCancel")||(j.coming=null,j.hideLoading(),j.ajaxLoad&&j.ajaxLoad.abort(),j.ajaxLoad=null,j.imgPreload&&(j.imgPreload.onload=j.imgPreload.onabort=j.imgPreload.onerror=null))
},close:function(a){j.cancel();
j.current&&!1!==j.trigger("beforeClose")&&(j.unbindEvents(),!j.isOpen||a&&!0===a[0]?(i(".fancybox-wrap").stop().trigger("onReset").remove(),j._afterZoomOut()):(j.isOpen=j.isOpened=!1,i(".fancybox-item, .fancybox-nav").remove(),j.wrap.stop(!0).removeClass("fancybox-opened"),j.inner.css("overflow","hidden"),j.transitions[j.current.closeMethod]()))
},play:function(a){var l=function(){clearTimeout(j.player.timer)
},k=function(){l();
j.current&&j.player.isActive&&(j.player.timer=setTimeout(j.next,j.current.playSpeed))
},d=function(){l();
i("body").unbind(".player");
j.player.isActive=!1;
j.trigger("onPlayEnd")
};
if(j.player.isActive||a&&!1===a[0]){d()
}else{if(j.current&&(j.current.loop||j.current.index<j.group.length-1)){j.player.isActive=!0,i("body").bind({"afterShow.player onUpdate.player":k,"onCancel.player beforeClose.player":d,"beforeLoad.player":l}),k(),j.trigger("onPlayStart")
}}},next:function(){j.current&&j.jumpto(j.current.index+1)
},prev:function(){j.current&&j.jumpto(j.current.index-1)
},jumpto:function(a){j.current&&(a=parseInt(a,10),1<j.group.length&&j.current.loop&&(a>=j.group.length?a=0:0>a&&(a=j.group.length-1)),j.group[a]!==r&&(j.cancel(),j._start(a)))
},reposition:function(a,k){var d;
j.isOpen&&(d=j._getPosition(k),a&&"scroll"===a.type?(delete d.position,j.wrap.stop(!0,!0).animate(d,200)):j.wrap.css(d))
},update:function(a){j.isOpen&&(p||setTimeout(function(){var k=j.current,d=!a||a&&"orientationchange"===a.type;
if(p&&(p=!1,k)){if(!a||"scroll"!==a.type||d){k.autoSize&&"iframe"!==k.type&&(j.inner.height("auto"),k.height=j.inner.height()),(k.autoResize||d)&&j._setDimension(),k.canGrow&&"iframe"!==k.type&&j.inner.height("auto")
}(k.autoCenter||d)&&j.reposition(a);
j.trigger("onUpdate")
}},200),p=!0)
},toggle:function(){j.isOpen&&(j.current.fitToView=!j.current.fitToView,j.update())
},hideLoading:function(){b.unbind("keypress.fb");
i("#fancybox-loading").remove()
},showLoading:function(){j.hideLoading();
b.bind("keypress.fb",function(a){27===a.keyCode&&(a.preventDefault(),j.cancel())
});
i('<div id="fancybox-loading"><div></div></div>').click(j.cancel).appendTo("body")
},getViewport:function(){return{x:f.scrollLeft(),y:f.scrollTop(),w:h&&v.innerWidth?v.innerWidth:f.width(),h:h&&v.innerHeight?v.innerHeight:f.height()}
},unbindEvents:function(){j.wrap&&j.wrap.unbind(".fb");
b.unbind(".fb");
f.unbind(".fb")
},bindEvents:function(){var a=j.current,d=a.keys;
a&&(f.bind("resize.fb orientationchange.fb"+(a.autoCenter&&!a.fixed?" scroll.fb":""),j.update),d&&b.bind("keydown.fb",function(k){var l;
l=k.target||k.srcElement;
if(!k.ctrlKey&&!k.altKey&&!k.shiftKey&&!k.metaKey&&(!l||!l.type&&!i(l).is("[contenteditable]"))){l=k.keyCode,-1<i.inArray(l,d.close)?(j.close(),k.preventDefault()):-1<i.inArray(l,d.next)?(j.next(),k.preventDefault()):-1<i.inArray(l,d.prev)&&(j.prev(),k.preventDefault())
}}),i.fn.mousewheel&&a.mouseWheel&&1<j.group.length&&j.wrap.bind("mousewheel.fb",function(k,m){var l=k.target||null;
if(0!==m&&(!l||0===l.clientHeight||l.scrollHeight===l.clientHeight&&l.scrollWidth===l.clientWidth)){k.preventDefault(),j[0<m?"prev":"next"]()
}}))
},trigger:function(a,l){var k,d=l||j[-1<i.inArray(a,["onCancel","beforeLoad","afterLoad"])?"coming":"current"];
if(d){i.isFunction(d[a])&&(k=d[a].apply(d,Array.prototype.slice.call(arguments,1)));
if(!1===k){return !1
}d.helpers&&i.each(d.helpers,function(n,m){if(m&&i.isPlainObject(j.helpers[n])&&i.isFunction(j.helpers[n][a])){j.helpers[n][a](m,d)
}});
i.event.trigger(a+".fb")
}},isImage:function(d){return c(d)&&d.match(/\.(jpe?g|gif|png|bmp)((\?|#).*)?$/i)
},isSWF:function(d){return c(d)&&d.match(/\.(swf)((\?|#).*)?$/i)
},_start:function(a){var n={},m=j.group[a]||null,l,k,d;
if(m&&(m.nodeType||m instanceof i)){l=!0,i.metadata&&(n=i(m).metadata())
}n=i.extend(!0,{},j.opts,{index:a,element:m},i.isPlainObject(m)?m:n);
i.each(["href","title","content","type"],function(o,q){n[q]=j.opts[q]||l&&i(m).attr(q)||n[q]||null
});
"number"===typeof n.margin&&(n.margin=[n.margin,n.margin,n.margin,n.margin]);
n.modal&&i.extend(!0,n,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{css:{cursor:"auto"},closeClick:!1}}});
j.coming=n;
if(!1===j.trigger("beforeLoad")){j.coming=null
}else{k=n.type;
a=n.href||m;
k||(l&&(k=i(m).data("fancybox-type"),k||(k=(k=m.className.match(/fancybox\.(\w+)/))?k[1]:null)),!k&&c(a)&&(j.isImage(a)?k="image":j.isSWF(a)?k="swf":a.match(/^#/)&&(k="inline")),k||(k=l?"inline":"html"),n.type=k);
if("inline"===k||"html"===k){if(n.content||(n.content="inline"===k?i(c(a)?a.replace(/.*(?=#[^\s]+$)/,""):a):m),!n.content||!n.content.length){k=null
}}else{a||(k=null)
}"ajax"===k&&c(a)&&(d=a.split(/\s+/,2),a=d.shift(),n.selector=d.shift());
n.href=a;
n.group=j.group;
n.isDom=l;
switch(k){case"image":j._loadImage();
break;
case"ajax":j._loadAjax();
break;
case"inline":case"iframe":case"swf":case"html":j._afterLoad();
break;
default:j._error("type")
}}},_error:function(a){j.hideLoading();
i.extend(j.coming,{type:"html",autoSize:!0,minWidth:0,minHeight:0,padding:15,hasError:a,content:j.coming.tpl.error});
j._afterLoad()
},_loadImage:function(){var a=j.imgPreload=new Image;
a.onload=function(){this.onload=this.onerror=null;
j.coming.width=this.width;
j.coming.height=this.height;
j._afterLoad()
};
a.onerror=function(){this.onload=this.onerror=null;
j._error("image")
};
a.src=j.coming.href;
(a.complete===r||!a.complete)&&j.showLoading()
},_loadAjax:function(){j.showLoading();
j.ajaxLoad=i.ajax(i.extend({},j.coming.ajax,{url:j.coming.href,error:function(a,d){j.coming&&"abort"!==d?j._error("ajax",a):j.hideLoading()
},success:function(a,d){"success"===d&&(j.coming.content=a,j._afterLoad())
}}))
},_preloadImages:function(){var a=j.group,o=j.current,n=a.length,m,l,d,k=Math.min(o.preload,n-1);
if(o.preload&&!(2>a.length)){for(d=1;
d<=k;
d+=1){if(m=a[(o.index+d)%n],l=m.href||i(m).attr("href")||m,"image"===m.type||j.isImage(l)){(new Image).src=l
}}}},_afterLoad:function(){j.hideLoading();
!j.coming||!1===j.trigger("afterLoad",j.current)?j.coming=!1:(j.isOpened?(i(".fancybox-item, .fancybox-nav").remove(),j.wrap.stop(!0).removeClass("fancybox-opened"),j.inner.css("overflow","hidden"),j.transitions[j.current.prevMethod]()):(i(".fancybox-wrap").stop().trigger("onReset").remove(),j.trigger("afterClose")),j.unbindEvents(),j.isOpen=!1,j.current=j.coming,j.wrap=i(j.current.tpl.wrap).addClass("fancybox-"+(h?"mobile":"desktop")+" fancybox-type-"+j.current.type+" fancybox-tmp "+j.current.wrapCSS).appendTo("body"),j.skin=i(".fancybox-skin",j.wrap).css("padding",e(j.current.padding)),j.outer=i(".fancybox-outer",j.wrap),j.inner=i(".fancybox-inner",j.wrap),j._setContent())
},_setContent:function(){var a=j.current,o=a.content,n=a.type,m=a.minWidth,l=a.minHeight,d=a.maxWidth,k=a.maxHeight;
switch(n){case"inline":case"ajax":case"html":a.selector?o=i("<div>").html(o).find(a.selector):o instanceof i&&(o.parent().hasClass("fancybox-inner")&&o.parents(".fancybox-wrap").unbind("onReset"),o=o.show().detach(),i(j.wrap).bind("onReset",function(){o.appendTo("body").hide()
}));
a.autoSize&&(m=i('<div class="fancybox-wrap '+j.current.wrapCSS+' fancybox-tmp"></div>').appendTo("body").css({minWidth:e(m,"w"),minHeight:e(l,"h"),maxWidth:e(d,"w"),maxHeight:e(k,"h")}).append(o),a.width=m.width(),a.height=m.height(),m.width(j.current.width),m.height()>a.height&&(m.width(a.width+1),a.width=m.width(),a.height=m.height()),o=m.contents().detach(),m.remove());
break;
case"image":o=a.tpl.image.replace("{href}",a.href);
a.aspectRatio=!0;
break;
case"swf":o=a.tpl.swf.replace(/\{width\}/g,a.width).replace(/\{height\}/g,a.height).replace(/\{href\}/g,a.href);
break;
case"iframe":o=i(a.tpl.iframe.replace("{rnd}",(new Date).getTime())).attr("scrolling",a.scrolling).attr("src",a.href),a.scrolling=h?"scroll":"auto"
}if("image"===n||"swf"===n){a.autoSize=!1,a.scrolling="visible"
}"iframe"===n&&a.autoSize?(j.showLoading(),j._setDimension(),j.inner.css("overflow",a.scrolling),o.bind({onCancel:function(){i(this).unbind();
j._afterZoomOut()
},load:function(){j.hideLoading();
try{this.contentWindow.document.location&&(j.current.height=i(this).contents().find("body").height())
}catch(q){j.current.autoSize=!1
}j[j.isOpen?"_afterZoomIn":"_beforeShow"]()
}}).appendTo(j.inner)):(j.inner.append(o),j._beforeShow())
},_beforeShow:function(){j.coming=null;
j.trigger("beforeShow");
j._setDimension();
j.wrap.hide().removeClass("fancybox-tmp");
j.bindEvents();
j._preloadImages();
j.transitions[j.isOpened?j.current.nextMethod:j.current.openMethod]()
},_setDimension:function(){var A=j.wrap,z=j.inner,y=j.current,x=j.getViewport(),w=y.margin,t=2*y.padding,u=y.width,s=y.height,a=y.maxWidth+t,q=y.maxHeight+t,o=y.minWidth+t,n=y.minHeight+t,d;
x.w-=w[1]+w[3];
x.h-=w[0]+w[2];
c(u)&&0<u.indexOf("%")&&(u=(x.w-t)*parseFloat(u)/100);
c(s)&&0<s.indexOf("%")&&(s=(x.h-t)*parseFloat(s)/100);
w=u/s;
u+=t;
s+=t;
y.fitToView&&(a=Math.min(x.w,a),q=Math.min(x.h,q));
if(y.aspectRatio){if(u>a&&(u=a,s=(u-t)/w+t),s>q&&(s=q,u=(s-t)*w+t),u<o&&(u=o,s=(u-t)/w+t),s<n){s=n,u=(s-t)*w+t
}}else{u=Math.max(o,Math.min(u,a)),s=Math.max(n,Math.min(s,q))
}u=Math.round(u);
s=Math.round(s);
i(A.add(z)).width("auto").height("auto");
z.width(u-t).height(s-t);
A.width(u);
d=A.height();
if(u>a||d>q){for(;
(u>a||d>q)&&u>o&&d>n;
){s-=10,y.aspectRatio?(u=Math.round((s-t)*w+t),u<o&&(u=o,s=(u-t)/w+t)):u-=10,z.width(u-t).height(s-t),A.width(u),d=A.height()
}}y.dim={width:e(u),height:e(d)};
y.canGrow=y.autoSize&&s>n&&s<q;
y.canShrink=!1;
y.canExpand=!1;
if(u-t<y.width||s-t<y.height){y.canExpand=!0
}else{if((u>x.w||d>x.h)&&u>o&&s>n){y.canShrink=!0
}}j.innerSpace=d-t-z.height()
},_getPosition:function(a){var q=j.current,n=j.getViewport(),m=q.margin,o=j.wrap.width()+m[1]+m[3],k=j.wrap.height()+m[0]+m[2],l={position:"absolute",top:m[0]+n.y,left:m[3]+n.x};
q.autoCenter&&q.fixed&&!a&&k<=n.h&&o<=n.w&&(l={position:"fixed",top:m[0],left:m[3]});
l.top=e(Math.max(l.top,l.top+(n.h-k)*q.topRatio));
l.left=e(Math.max(l.left,l.left+0.5*(n.w-o)));
return l
},_afterZoomIn:function(){var a=j.current,d=a?a.scrolling:"no";
if(a&&(j.isOpen=j.isOpened=!0,j.wrap.addClass("fancybox-opened"),j.inner.css("overflow","yes"===d?"scroll":"no"===d?"hidden":d),j.trigger("afterShow"),j.update(),(a.closeClick||a.nextClick)&&j.inner.css("cursor","pointer").bind("click.fb",function(k){if(!i(k.target).is("a")&&!i(k.target).parent().is("a")){j[a.closeClick?"close":"next"]()
}}),a.closeBtn&&i(a.tpl.closeBtn).appendTo(j.skin).bind("click.fb",j.close),a.arrows&&1<j.group.length&&((a.loop||0<a.index)&&i(a.tpl.prev).appendTo(j.outer).bind("click.fb",j.prev),(a.loop||a.index<j.group.length-1)&&i(a.tpl.next).appendTo(j.outer).bind("click.fb",j.next)),j.opts.autoPlay&&!j.player.isActive)){j.opts.autoPlay=!1,j.play()
}},_afterZoomOut:function(){var a=j.current;
j.wrap.trigger("onReset").remove();
i.extend(j,{group:{},opts:{},current:null,isActive:!1,isOpened:!1,isOpen:!1,wrap:null,skin:null,outer:null,inner:null});
j.trigger("afterClose",a)
}});
j.transitions={getOrigPosition:function(){var a=j.current,o=a.element,n=a.padding,m=i(a.orig),l={},d=50,k=50;
!m.length&&a.isDom&&i(o).is(":visible")&&(m=i(o).find("img:first"),m.length||(m=i(o)));
m.length?(l=m.offset(),m.is("img")&&(d=m.outerWidth(),k=m.outerHeight())):(a=j.getViewport(),l.top=a.y+0.5*(a.h-k),l.left=a.x+0.5*(a.w-d));
return l={top:e(l.top-n),left:e(l.left-n),width:e(d+2*n),height:e(k+2*n)}
},step:function(a,n){var l=n.prop,m,k;
if("width"===l||"height"===l){m=Math.ceil(a-2*j.current.padding),"height"===l&&(k=(a-n.start)/(n.end-n.start),n.start>n.end&&(k=1-k),m-=j.innerSpace*k),j.inner[l](m)
}},zoomIn:function(){var a=j.wrap,n=j.current,m=n.openEffect,l="elastic"===m,k=i.extend({},n.dim,j._getPosition(l)),d=i.extend({opacity:1},k);
delete d.position;
l?(k=this.getOrigPosition(),n.openOpacity&&(k.opacity=0),j.outer.add(j.inner).width("auto").height("auto")):"fade"===m&&(k.opacity=0);
a.css(k).show().animate(d,{duration:"none"===m?0:n.openSpeed,easing:n.openEasing,step:l?this.step:null,complete:j._afterZoomIn})
},zoomOut:function(){var a=j.wrap,n=j.current,m=n.openEffect,l="elastic"===m,k={opacity:0};
l&&("fixed"===a.css("position")&&a.css(j._getPosition(!0)),k=this.getOrigPosition(),n.closeOpacity&&(k.opacity=0));
a.animate(k,{duration:"none"===m?0:n.closeSpeed,easing:n.closeEasing,step:l?this.step:null,complete:j._afterZoomOut})
},changeIn:function(){var a=j.wrap,o=j.current,n=o.nextEffect,m="elastic"===n,l=j._getPosition(m),k={opacity:1};
l.opacity=0;
m&&(l.top=e(parseInt(l.top,10)-200),k.top="+=200px");
a.css(l).show().animate(k,{duration:"none"===n?0:o.nextSpeed,easing:o.nextEasing,complete:j._afterZoomIn})
},changeOut:function(){var a=j.wrap,l=j.current,k=l.prevEffect,d={opacity:0};
a.removeClass("fancybox-opened");
"elastic"===k&&(d.top="+=200px");
a.animate(d,{duration:"none"===k?0:l.prevSpeed,easing:l.prevEasing,complete:function(){i(this).trigger("onReset").remove()
}})
}};
j.helpers.overlay={overlay:null,update:function(){var d,k;
this.overlay.width("100%").height("100%");
i.browser.msie||h?(d=Math.max(g.documentElement.scrollWidth,g.body.scrollWidth),k=Math.max(g.documentElement.offsetWidth,g.body.offsetWidth),d=d<k?f.width():d):d=b.width();
this.overlay.width(d).height(b.height())
},beforeShow:function(a){this.overlay||(a=i.extend(!0,{},j.defaults.helpers.overlay,a),this.overlay=i('<div id="fancybox-overlay"></div>').css(a.css).appendTo("body"),a.closeClick&&this.overlay.bind("click.fb",j.close),j.current.fixed&&!h?this.overlay.addClass("overlay-fixed"):(this.update(),this.onUpdate=function(){this.update()
}),this.overlay.fadeTo(a.speedIn,a.opacity))
},afterClose:function(d){this.overlay&&this.overlay.fadeOut(d.speedOut||0,function(){i(this).remove()
});
this.overlay=null
}};
j.helpers.title={beforeShow:function(a){var d;
if(d=j.current.title){d=i('<div class="fancybox-title fancybox-title-'+a.type+'-wrap">'+d+"</div>").appendTo("body"),"float"===a.type&&(d.width(d.width()),d.wrapInner('<span class="child"></span>'),j.current.margin[2]+=Math.abs(parseInt(d.css("margin-bottom"),10))),d.appendTo("over"===a.type?j.inner:"outside"===a.type?j.wrap:j.skin)
}}};
i.fn.fancybox=function(a){var m=i(this),l=this.selector||"",k,d=function(s){var q=this,o=k,n;
!s.ctrlKey&&!s.altKey&&!s.shiftKey&&!s.metaKey&&!i(q).is(".fancybox-wrap")&&(s.preventDefault(),s=a.groupAttr||"data-fancybox-group",n=i(q).attr(s),n||(s="rel",n=q[s]),n&&""!==n&&"nofollow"!==n&&(q=l.length?i(l):m,q=q.filter("["+s+'="'+n+'"]'),o=q.index(this)),a.index=o,j.open(q,a))
},a=a||{};
k=a.index||0;
l?b.undelegate(l,"click.fb-start").delegate(l,"click.fb-start",d):m.unbind("click.fb-start").bind("click.fb-start",d);
return this
};
i(g).ready(function(){j.defaults.fixed=i.support.fixedPosition||!(i.browser.msie&&6>=i.browser.version)&&!h
})
})(window,document,jQuery);
/*!
 * jQuery BBQ: Back Button & Query Library - v1.2.1 - 2/17/2010
 * http://benalman.com/projects/jquery-bbq-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function($,p){var i,m=Array.prototype.slice,r=decodeURIComponent,a=$.param,c,l,v,b=$.bbq=$.bbq||{},q,u,j,e=$.event.special,d="hashchange",A="querystring",D="fragment",y="elemUrlAttr",g="location",k="href",t="src",x=/^.*\?|#.*$/g,w=/^.*\#/,h,C={};
function E(F){return typeof F==="string"
}function B(G){var F=m.call(arguments,1);
return function(){return G.apply(this,F.concat(m.call(arguments)))
}
}function n(F){return F.replace(/^[^#]*#?(.*)$/,"$1")
}function o(F){return F.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")
}function f(H,M,F,I,G){var O,L,K,N,J;
if(I!==i){K=F.match(H?/^([^#]*)\#?(.*)$/:/^([^#?]*)\??([^#]*)(#?.*)/);
J=K[3]||"";
if(G===2&&E(I)){L=I.replace(H?w:x,"")
}else{N=l(K[2]);
I=E(I)?l[H?D:A](I):I;
L=G===2?I:G===1?$.extend({},I,N):$.extend({},N,I);
L=a(L);
if(H){L=L.replace(h,r)
}}O=K[1]+(H?"#":L||!K[1]?"?":"")+L+J
}else{O=M(F!==i?F:p[g][k])
}return O
}a[A]=B(f,0,o);
a[D]=c=B(f,1,n);
c.noEscape=function(G){G=G||"";
var F=$.map(G.split(""),encodeURIComponent);
h=new RegExp(F.join("|"),"g")
};
c.noEscape(",/");
$.deparam=l=function(I,F){var H={},G={"true":!0,"false":!1,"null":null};
$.each(I.replace(/\+/g," ").split("&"),function(L,Q){var K=Q.split("="),P=r(K[0]),J,O=H,M=0,R=P.split("]["),N=R.length-1;
if(/\[/.test(R[0])&&/\]$/.test(R[N])){R[N]=R[N].replace(/\]$/,"");
R=R.shift().split("[").concat(R);
N=R.length-1
}else{N=0
}if(K.length===2){J=r(K[1]);
if(F){J=J&&!isNaN(J)?+J:J==="undefined"?i:G[J]!==i?G[J]:J
}if(N){for(;
M<=N;
M++){P=R[M]===""?O.length:R[M];
O=O[P]=M<N?O[P]||(R[M+1]&&isNaN(R[M+1])?{}:[]):J
}}else{if($.isArray(H[P])){H[P].push(J)
}else{if(H[P]!==i){H[P]=[H[P],J]
}else{H[P]=J
}}}}else{if(P){H[P]=F?i:""
}}});
return H
};
function z(H,F,G){if(F===i||typeof F==="boolean"){G=F;
F=a[H?D:A]()
}else{F=E(F)?F.replace(H?w:x,""):F
}return l(F,G)
}l[A]=B(z,0);
l[D]=v=B(z,1);
$[y]||($[y]=function(F){return $.extend(C,F)
})({a:k,base:k,iframe:t,img:t,input:t,form:"action",link:k,script:t});
j=$[y];
function s(I,G,H,F){if(!E(H)&&typeof H!=="object"){F=H;
H=G;
G=i
}return this.each(function(){var L=$(this),J=G||j()[(this.nodeName||"").toLowerCase()]||"",K=J&&L.attr(J)||"";
L.attr(J,a[I](K,H,F))
})
}$.fn[A]=B(s,A);
$.fn[D]=B(s,D);
b.pushState=q=function(I,F){if(E(I)&&/^#/.test(I)&&F===i){F=2
}var H=I!==i,G=c(p[g][k],H?I:{},H?F:2);
p[g][k]=G+(/#/.test(G)?"":"#")
};
b.getState=u=function(F,G){return F===i||typeof F==="boolean"?v(F):v(G)[F]
};
b.removeState=function(F){var G={};
if(F!==i){G=u();
$.each($.isArray(F)?F:arguments,function(I,H){delete G[H]
})
}q(G,2)
};
e[d]=$.extend(e[d],{add:function(F){var H;
function G(J){var I=J[D]=c();
J.getState=function(K,L){return K===i||typeof K==="boolean"?l(I,K):l(I,L)[K]
};
H.apply(this,arguments)
}if($.isFunction(F)){H=F;
return G
}else{H=F.handler;
F.handler=G
}}})
})(jQuery,this);
/*!
 * jQuery hashchange event - v1.2 - 2/11/2010
 * http://benalman.com/projects/jquery-hashchange-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function($,i,b){var j,k=$.event.special,c="location",d="hashchange",l="href",f=$.browser,g=document.documentMode,h=f.msie&&(g===b||g<8),e="on"+d in i&&!h;
function a(m){m=m||i[c][l];
return m.replace(/^[^#]*#?(.*)$/,"$1")
}$[d+"Delay"]=100;
k[d]=$.extend(k[d],{setup:function(){if(e){return false
}$(j.start)
},teardown:function(){if(e){return false
}$(j.stop)
}});
j=(function(){var m={},r,n,o,q;
function p(){o=q=function(s){return s
};
if(h){n=$('<iframe src="javascript:0"/>').hide().insertAfter("body")[0].contentWindow;
q=function(){return a(n.document[c][l])
};
o=function(u,s){if(u!==s){var t=n.document;
t.open().close();
t[c].hash="#"+u
}};
o(a())
}}m.start=function(){if(r){return
}var t=a();
o||p();
(function s(){var v=a(),u=q(t);
if(v!==t){o(t=v,u);
$(i).trigger(d)
}else{if(u!==t){i[c][l]=i[c][l].replace(/#.*/,"")+"#"+u
}}r=setTimeout(s,$[d+"Delay"])
})()
};
m.stop=function(){if(!n){r&&clearTimeout(r);
r=0
}};
return m
})()
})(jQuery,this);
(function(j,e,c){function h(p){return p.charAt(0).toUpperCase()+p.slice(1)
}var f="Moz Webkit Khtml O Ms".split(" ");
function d(t){var s=document.documentElement.style,q;
if(typeof s[t]==="string"){return t
}t=h(t);
for(var r=0,p=f.length;
r<p;
r++){q=f[r]+t;
if(typeof s[q]==="string"){return q
}}}var m=d("transform");
/*!
   * Modernizr v1.6ish: miniModernizr for Isotope
   * http://www.modernizr.com
   *
   * Developed by: 
   * - Faruk Ates  http://farukat.es/
   * - Paul Irish  http://paulirish.com/
   *
   * Copyright (c) 2009-2010
   * Dual-licensed under the BSD or MIT licenses.
   * http://www.modernizr.com/license/
   */
;
var b={csstransforms:function(){return !!m
},csstransforms3d:function(){var t=!!d("perspective");
if(t){var q=" -o- -moz- -ms- -webkit- -khtml- ".split(" "),s="@media ("+q.join("transform-3d),(")+"modernizr)",r=e("<style>"+s+"{#modernizr{height:3px}}</style>").appendTo("head"),p=e('<div id="modernizr" />').appendTo("html");
t=p.height()===3;
p.remove();
r.remove()
}return t
},csstransitions:function(){return !!d("transitionProperty")
}};
if(j.Modernizr){for(var i in b){if(!Modernizr.hasOwnProperty(i)){Modernizr.addTest(i,b[i])
}}}else{j.Modernizr=(function(){var s={_version:"1.6ish: miniModernizr for Isotope"},r=" ",q,p;
for(p in b){q=b[p]();
s[p]=q;
r+=" "+(q?"":"no-")+p
}e("html").addClass(r);
return s
})()
}if(Modernizr.csstransforms){var g=Modernizr.csstransforms3d?{translate:function(p){return"translate3d("+p[0]+"px, "+p[1]+"px, 0) "
},scale:function(p){return"scale3d("+p+", "+p+", 1) "
}}:{translate:function(p){return"translate("+p[0]+"px, "+p[1]+"px) "
},scale:function(p){return"scale("+p+") "
}};
var l=function(s,q,x){var v=e.data(s,"isoTransform")||{},z={},r,t={},w;
z[q]=x;
e.extend(v,z);
for(r in v){w=v[r];
t[r]=g[r](w)
}var u=t.translate||"",y=t.scale||"",p=u+y;
e.data(s,"isoTransform",v);
s.style[m]=p
};
e.cssNumber.scale=true;
e.cssHooks.scale={set:function(p,q){l(p,"scale",q)
},get:function(r,q){var p=e.data(r,"isoTransform");
return p&&p.scale?p.scale:1
}};
e.fx.step.scale=function(p){e.cssHooks.scale.set(p.elem,p.now+p.unit)
};
e.cssNumber.translate=true;
e.cssHooks.translate={set:function(p,q){l(p,"translate",q)
},get:function(r,q){var p=e.data(r,"isoTransform");
return p&&p.translate?p.translate:[0,0]
}}
}var a=e.event,o;
a.special.smartresize={setup:function(){e(this).bind("resize",a.special.smartresize.handler)
},teardown:function(){e(this).unbind("resize",a.special.smartresize.handler)
},handler:function(s,p){var r=this,q=arguments;
s.type="smartresize";
if(o){clearTimeout(o)
}o=setTimeout(function(){jQuery.event.handle.apply(r,q)
},p==="execAsap"?0:100)
}};
e.fn.smartresize=function(p){return p?this.bind("smartresize",p):this.trigger("smartresize",["execAsap"])
};
e.Isotope=function(p,q){this.element=e(q);
this._create(p);
this._init()
};
var k=["overflow","position","width","height"];
e.Isotope.settings={resizable:true,layoutMode:"masonry",containerClass:"isotope",itemClass:"isotope-item",hiddenClass:"isotope-hidden",hiddenStyle:Modernizr.csstransforms&&!e.browser.opera?{opacity:0,scale:0.001}:{opacity:0},visibleStyle:Modernizr.csstransforms&&!e.browser.opera?{opacity:1,scale:1}:{opacity:1},animationEngine:e.browser.opera?"jquery":"best-available",animationOptions:{queue:false,duration:800},sortBy:"original-order",sortAscending:true,resizesContainer:true,transformsEnabled:true,itemPositionDataEnabled:false};
e.Isotope.prototype={_create:function(u){this.options=e.extend({},e.Isotope.settings,u);
this.styleQueue=[];
this.elemCount=0;
var s=this.element[0].style;
this.originalStyle={};
for(var v=0,q=k.length;
v<q;
v++){var w=k[v];
this.originalStyle[w]=s[w]||""
}this.element.css({overflow:"hidden",position:"relative"});
this._updateAnimationEngine();
this._updateUsingTransforms();
var t={"original-order":function(y,x){x.elemCount++;
return x.elemCount
},random:function(){return Math.random()
}};
this.options.getSortData=e.extend(this.options.getSortData,t);
this.reloadItems();
var r=e(document.createElement("div")).prependTo(this.element);
this.offset=r.position();
r.remove();
var p=this;
setTimeout(function(){p.element.addClass(p.options.containerClass)
},0);
if(this.options.resizable){e(j).bind("smartresize.isotope",function(){p.resize()
})
}this.element.delegate("."+this.options.hiddenClass,"click",function(){return false
})
},_getAtoms:function(s){var p=this.options.itemSelector,r=p?s.filter(p).add(s.find(p)):s,q={position:"absolute"};
if(this.usingTransforms){q.left=0;
q.top=0
}r.css(q).addClass(this.options.itemClass);
this.updateSortData(r,true);
return r
},_init:function(p){this.$filteredAtoms=this._filter(this.$allAtoms);
this._sort();
this.reLayout(p)
},option:function(r){if(e.isPlainObject(r)){this.options=e.extend(true,this.options,r);
var p;
for(var q in r){p="_update"+h(q);
if(this[p]){this[p]()
}}}},_updateAnimationEngine:function(){var p=this.options.animationEngine.toLowerCase().replace(/[ _\-]/g,"");
switch(p){case"css":case"none":this.isUsingJQueryAnimation=false;
break;
case"jquery":this.isUsingJQueryAnimation=true;
break;
default:this.isUsingJQueryAnimation=!Modernizr.csstransitions
}this._updateUsingTransforms()
},_updateTransformsEnabled:function(){this._updateUsingTransforms()
},_updateUsingTransforms:function(){this.usingTransforms=this.options.transformsEnabled&&Modernizr.csstransforms&&Modernizr.csstransitions&&!this.isUsingJQueryAnimation;
this.getPositionStyles=this.usingTransforms?this._translate:this._positionAbs
},_filter:function(v){var r=this.options.filter===""?"*":this.options.filter;
if(!r){return v
}var u=this.options.hiddenClass,q="."+u,t=v.filter(q),p=t;
if(r!=="*"){p=t.filter(r);
var s=v.not(q).not(r).addClass(u);
this.styleQueue.push({$el:s,style:this.options.hiddenStyle})
}this.styleQueue.push({$el:p,style:this.options.visibleStyle});
p.removeClass(u);
return v.filter(r)
},updateSortData:function(u,r){var q=this,s=this.options.getSortData,t,p;
u.each(function(){t=e(this);
p={};
for(var v in s){if(!r&&v==="original-order"){p[v]=e.data(this,"isotope-sort-data")[v]
}else{p[v]=s[v](t,q)
}}e.data(this,"isotope-sort-data",p)
})
},_sort:function(){var s=this.options.sortBy,r=this._getSorter,p=this.options.sortAscending?1:-1,q=function(w,v){var u=r(w,s),t=r(v,s);
if(u===t&&s!=="original-order"){u=r(w,"original-order");
t=r(v,"original-order")
}return((u>t)?1:(u<t)?-1:0)*p
};
this.$filteredAtoms.sort(q)
},_getSorter:function(p,q){return e.data(p,"isotope-sort-data")[q]
},_translate:function(p,q){return{translate:[p,q]}
},_positionAbs:function(p,q){return{left:p,top:q}
},_pushPosition:function(r,q,s){q+=this.offset.left;
s+=this.offset.top;
var p=this.getPositionStyles(q,s);
this.styleQueue.push({$el:r,style:p});
if(this.options.itemPositionDataEnabled){r.data("isotope-item-position",{x:q,y:s})
}},layout:function(s,r){var q=this.options.layoutMode;
this["_"+q+"Layout"](s);
if(this.options.resizesContainer){var p=this["_"+q+"GetContainerSize"]();
this.styleQueue.push({$el:this.element,style:p})
}this._processStyleQueue();
if(r){r.call(s)
}this.isLaidOut=true
},_processStyleQueue:function(){var s=!this.isLaidOut?"css":(this.isUsingJQueryAnimation?"animate":"css"),q=this.options.animationOptions,r=this._isInserting&&this.isUsingJQueryAnimation,p;
e.each(this.styleQueue,function(t,u){p=r&&u.$el.hasClass("no-transition")?"css":s;
u.$el[p](u.style,q)
});
this.styleQueue=[]
},resize:function(){if(this["_"+this.options.layoutMode+"ResizeChanged"]()){this.reLayout()
}},reLayout:function(p){this["_"+this.options.layoutMode+"Reset"]();
this.layout(this.$filteredAtoms,p)
},addItems:function(q,r){var p=this._getAtoms(q);
this.$allAtoms=this.$allAtoms.add(p);
if(r){r(p)
}},insert:function(q,r){this.element.append(q);
var p=this;
this.addItems(q,function(s){var t=p._filter(s,true);
p._addHideAppended(t);
p._sort();
p.reLayout();
p._revealAppended(t,r)
})
},appended:function(q,r){var p=this;
this.addItems(q,function(s){p._addHideAppended(s);
p.layout(s);
p._revealAppended(s,r)
})
},_addHideAppended:function(p){this.$filteredAtoms=this.$filteredAtoms.add(p);
p.addClass("no-transition");
this._isInserting=true;
this.styleQueue.push({$el:p,style:this.options.hiddenStyle})
},_revealAppended:function(q,r){var p=this;
setTimeout(function(){q.removeClass("no-transition");
p.styleQueue.push({$el:q,style:p.options.visibleStyle});
p._processStyleQueue();
delete p._isInserting;
if(r){r(q)
}},10)
},reloadItems:function(){this.$allAtoms=this._getAtoms(this.element.children())
},remove:function(p){this.$allAtoms=this.$allAtoms.not(p);
this.$filteredAtoms=this.$filteredAtoms.not(p);
p.remove()
},shuffle:function(){this.updateSortData(this.$allAtoms);
this.options.sortBy="random";
this._sort();
this.reLayout()
},destroy:function(){var s=this.usingTransforms;
this.$allAtoms.removeClass(this.options.hiddenClass+" "+this.options.itemClass).each(function(){this.style.position="";
this.style.top="";
this.style.left="";
this.style.opacity="";
if(s){this.style[m]=""
}});
var q=this.element[0].style;
for(var r=0,p=k.length;
r<p;
r++){var t=k[r];
q[t]=this.originalStyle[t]
}this.element.unbind(".isotope").undelegate("."+this.options.hiddenClass,"click").removeClass(this.options.containerClass).removeData("isotope");
e(j).unbind(".isotope")
},_getSegments:function(v){var s=this.options.layoutMode,r=v?"rowHeight":"columnWidth",q=v?"height":"width",u=v?"rows":"cols",w=this.element[q](),p,t=this.options[s]&&this.options[s][r]||this.$filteredAtoms["outer"+h(q)](true)||w;
p=Math.floor(w/t);
p=Math.max(p,1);
this[s][u]=p;
this[s][r]=t
},_checkIfSegmentsChanged:function(s){var q=this.options.layoutMode,r=s?"rows":"cols",p=this[q][r];
this._getSegments(s);
return(this[q][r]!==p)
},_masonryReset:function(){this.masonry={};
this._getSegments();
var p=this.masonry.cols;
this.masonry.colYs=[];
while(p--){this.masonry.colYs.push(0)
}},_masonryLayout:function(r){var p=this,q=p.masonry;
r.each(function(){var w=e(this),u=Math.ceil(w.outerWidth(true)/q.columnWidth);
u=Math.min(u,q.cols);
if(u===1){p._masonryPlaceBrick(w,q.colYs)
}else{var x=q.cols+1-u,t=[],v,s;
for(s=0;
s<x;
s++){v=q.colYs.slice(s,s+u);
t[s]=Math.max.apply(Math,v)
}p._masonryPlaceBrick(w,t)
}})
},_masonryPlaceBrick:function(s,w){var p=Math.min.apply(Math,w),A=0;
for(var r=0,t=w.length;
r<t;
r++){if(w[r]===p){A=r;
break
}}var z=this.masonry.columnWidth*A,v=p;
this._pushPosition(s,z,v);
var u=p+s.outerHeight(true),q=this.masonry.cols+1-t;
for(r=0;
r<q;
r++){this.masonry.colYs[A+r]=u
}},_masonryGetContainerSize:function(){var p=Math.max.apply(Math,this.masonry.colYs);
return{height:p}
},_masonryResizeChanged:function(){return this._checkIfSegmentsChanged()
},_fitRowsReset:function(){this.fitRows={x:0,y:0,height:0}
},_fitRowsLayout:function(s){var p=this,r=this.element.width(),q=this.fitRows;
s.each(function(){var v=e(this),u=v.outerWidth(true),t=v.outerHeight(true);
if(q.x!==0&&u+q.x>r){q.x=0;
q.y=q.height
}p._pushPosition(v,q.x,q.y);
q.height=Math.max(q.y+t,q.height);
q.x+=u
})
},_fitRowsGetContainerSize:function(){return{height:this.fitRows.height}
},_fitRowsResizeChanged:function(){return true
},_cellsByRowReset:function(){this.cellsByRow={index:0};
this._getSegments();
this._getSegments(true)
},_cellsByRowLayout:function(r){var p=this,q=this.cellsByRow;
r.each(function(){var u=e(this),t=q.index%q.cols,v=~~(q.index/q.cols),s=(t+0.5)*q.columnWidth-u.outerWidth(true)/2,w=(v+0.5)*q.rowHeight-u.outerHeight(true)/2;
p._pushPosition(u,s,w);
q.index++
})
},_cellsByRowGetContainerSize:function(){return{height:Math.ceil(this.$filteredAtoms.length/this.cellsByRow.cols)*this.cellsByRow.rowHeight+this.offset.top}
},_cellsByRowResizeChanged:function(){return this._checkIfSegmentsChanged()
},_straightDownReset:function(){this.straightDown={y:0}
},_straightDownLayout:function(q){var p=this;
q.each(function(r){var s=e(this);
p._pushPosition(s,0,p.straightDown.y);
p.straightDown.y+=s.outerHeight(true)
})
},_straightDownGetContainerSize:function(){return{height:this.straightDown.y}
},_straightDownResizeChanged:function(){return true
},_masonryHorizontalReset:function(){this.masonryHorizontal={};
this._getSegments(true);
var p=this.masonryHorizontal.rows;
this.masonryHorizontal.rowXs=[];
while(p--){this.masonryHorizontal.rowXs.push(0)
}},_masonryHorizontalLayout:function(r){var p=this,q=p.masonryHorizontal;
r.each(function(){var w=e(this),u=Math.ceil(w.outerHeight(true)/q.rowHeight);
u=Math.min(u,q.rows);
if(u===1){p._masonryHorizontalPlaceBrick(w,q.rowXs)
}else{var x=q.rows+1-u,t=[],v,s;
for(s=0;
s<x;
s++){v=q.rowXs.slice(s,s+u);
t[s]=Math.max.apply(Math,v)
}p._masonryHorizontalPlaceBrick(w,t)
}})
},_masonryHorizontalPlaceBrick:function(s,z){var p=Math.min.apply(Math,z),v=0;
for(var r=0,t=z.length;
r<t;
r++){if(z[r]===p){v=r;
break
}}var A=p,w=this.masonryHorizontal.rowHeight*v;
this._pushPosition(s,A,w);
var u=p+s.outerWidth(true),q=this.masonryHorizontal.rows+1-t;
for(r=0;
r<q;
r++){this.masonryHorizontal.rowXs[v+r]=u
}},_masonryHorizontalGetContainerSize:function(){var p=Math.max.apply(Math,this.masonryHorizontal.rowXs);
return{width:p}
},_masonryHorizontalResizeChanged:function(){return this._checkIfSegmentsChanged(true)
},_fitColumnsReset:function(){this.fitColumns={x:0,y:0,width:0}
},_fitColumnsLayout:function(s){var p=this,r=this.element.height(),q=this.fitColumns;
s.each(function(){var v=e(this),u=v.outerWidth(true),t=v.outerHeight(true);
if(q.y!==0&&t+q.y>r){q.x=q.width;
q.y=0
}p._pushPosition(v,q.x,q.y);
q.width=Math.max(q.x+u,q.width);
q.y+=t
})
},_fitColumnsGetContainerSize:function(){return{width:this.fitColumns.width}
},_fitColumnsResizeChanged:function(){return true
},_cellsByColumnReset:function(){this.cellsByColumn={index:0};
this._getSegments();
this._getSegments(true)
},_cellsByColumnLayout:function(r){var p=this,q=this.cellsByColumn;
r.each(function(){var u=e(this),t=~~(q.index/q.rows),v=q.index%q.rows,s=(t+0.5)*q.columnWidth-u.outerWidth(true)/2,w=(v+0.5)*q.rowHeight-u.outerHeight(true)/2;
p._pushPosition(u,s,w);
q.index++
})
},_cellsByColumnGetContainerSize:function(){return{width:Math.ceil(this.$filteredAtoms.length/this.cellsByColumn.rows)*this.cellsByColumn.columnWidth}
},_cellsByColumnResizeChanged:function(){return this._checkIfSegmentsChanged(true)
},_straightAcrossReset:function(){this.straightAcross={x:0}
},_straightAcrossLayout:function(q){var p=this;
q.each(function(r){var s=e(this);
p._pushPosition(s,p.straightAcross.x,0);
p.straightAcross.x+=s.outerWidth(true)
})
},_straightAcrossGetContainerSize:function(){return{width:this.straightAcross.x}
},_straightAcrossResizeChanged:function(){return true
}};
/*!
   * jQuery imagesLoaded plugin v1.0.3
   * http://github.com/desandro/imagesloaded
   *
   * MIT License. by Paul Irish et al.
   */
;
e.fn.imagesLoaded=function(v){var t=this,r=t.find("img").add(t.filter("img")),p=r.length,u="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";
function s(){v.call(t,r)
}function q(){if(--p<=0&&this.src!==u){setTimeout(s);
r.unbind("load error",q)
}}if(!p){s()
}r.bind("load error",q).each(function(){if(this.complete||this.complete===c){var w=this.src;
this.src=u;
this.src=w
}});
return t
};
var n=function(p){if(this.console){console.error(p)
}};
e.fn.isotope=function(q){if(typeof q==="string"){var p=Array.prototype.slice.call(arguments,1);
this.each(function(){var r=e.data(this,"isotope");
if(!r){n("cannot call methods on isotope prior to initialization; attempted to call method '"+q+"'");
return
}if(!e.isFunction(r[q])||q.charAt(0)==="_"){n("no such method '"+q+"' for isotope instance");
return
}r[q].apply(r,p)
})
}else{this.each(function(){var r=e.data(this,"isotope");
if(r){r.option(q);
r._init()
}else{e.data(this,"isotope",new e.Isotope(q,this))
}})
}return this
}
})(window,jQuery);
(function(a){a.fn.fixClearType=function(){if(jQuery.browser.msie){a(this).css("FILTER","");
a(this).get(0).style.removeAttribute("filter",false)
}if(!a(this).get(0).currentStyle||!a(this).get(0).currentStyle.hasLayout){a(this).get(0).style.zoom=1
}}
})(jQuery);
/*!
 * typeahead.js 0.9.2
 * https://github.com/twitter/typeahead
 * Copyright 2013 Twitter, Inc. and other contributors; Licensed MIT
 */
(function(c){var l="0.9.2";
var j={isMsie:function(){var m=/(msie) ([\w.]+)/i.exec(navigator.userAgent);
return m?parseInt(m[2],10):false
},isBlankString:function(m){return !m||/^\s*$/.test(m)
},escapeRegExChars:function(m){return m.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")
},isString:function(m){return typeof m==="string"
},isNumber:function(m){return typeof m==="number"
},isArray:c.isArray,isFunction:c.isFunction,isObject:c.isPlainObject,isUndefined:function(m){return typeof m==="undefined"
},bind:c.proxy,bindAll:function(n){var o;
for(var m in n){c.isFunction(o=n[m])&&(n[m]=c.proxy(o,n))
}},indexOf:function(n,o){for(var m=0;
m<n.length;
m++){if(n[m]===o){return m
}}return -1
},each:c.each,map:c.map,filter:c.grep,every:function(n,o){var m=true;
if(!n){return m
}c.each(n,function(p,q){if(!(m=o.call(null,q,p,n))){return false
}});
return !!m
},some:function(n,o){var m=false;
if(!n){return m
}c.each(n,function(p,q){if(m=o.call(null,q,p,n)){return false
}});
return !!m
},mixin:c.extend,getUniqueId:function(){var m=0;
return function(){return m++
}
}(),defer:function(m){setTimeout(m,0)
},debounce:function(o,q,n){var p,m;
return function(){var u=this,t=arguments,s,r;
s=function(){p=null;
if(!n){m=o.apply(u,t)
}};
r=n&&!p;
clearTimeout(p);
p=setTimeout(s,q);
if(r){m=o.apply(u,t)
}return m
}
},throttle:function(r,t){var p,o,s,m,q,n;
q=0;
n=function(){q=new Date();
s=null;
m=r.apply(p,o)
};
return function(){var u=new Date(),v=t-(u-q);
p=this;
o=arguments;
if(v<=0){clearTimeout(s);
s=null;
q=u;
m=r.apply(p,o)
}else{if(!s){s=setTimeout(n,v)
}}return m
}
},tokenizeQuery:function(m){return c.trim(m).toLowerCase().split(/[\s]+/)
},tokenizeText:function(m){return c.trim(m).toLowerCase().split(/[\s\-_]+/)
},getProtocol:function(){return location.protocol
},noop:function(){}};
var k=function(){var m=/\s+/;
return{on:function(n,p){var o;
if(!p){return this
}this._callbacks=this._callbacks||{};
n=n.split(m);
while(o=n.shift()){this._callbacks[o]=this._callbacks[o]||[];
this._callbacks[o].push(p)
}return this
},trigger:function(o,r){var q,p;
if(!this._callbacks){return this
}o=o.split(m);
while(q=o.shift()){if(p=this._callbacks[q]){for(var n=0;
n<p.length;
n+=1){p[n].call(this,{type:q,data:r})
}}}return this
}}
}();
var e=function(){var n="typeahead:";
function m(p){if(!p||!p.el){c.error("EventBus initialized without el")
}this.$el=c(p.el)
}j.mixin(m.prototype,{trigger:function(p){var o=[].slice.call(arguments,1);
this.$el.trigger(n+p,o)
}});
return m
}();
var g=function(){var m,n;
try{m=window.localStorage
}catch(r){m=null
}function p(t){this.prefix=["__",t,"__"].join("");
this.ttlKey="__ttl__";
this.keyMatcher=new RegExp("^"+this.prefix)
}if(m&&window.JSON){n={_prefix:function(t){return this.prefix+t
},_ttlKey:function(t){return this._prefix(t)+this.ttlKey
},get:function(t){if(this.isExpired(t)){this.remove(t)
}return s(m.getItem(this._prefix(t)))
},set:function(u,v,t){if(j.isNumber(t)){m.setItem(this._ttlKey(u),q(o()+t))
}else{m.removeItem(this._ttlKey(u))
}return m.setItem(this._prefix(u),q(v))
},remove:function(t){m.removeItem(this._ttlKey(t));
m.removeItem(this._prefix(t));
return this
},clear:function(){var v,u,w=[],t=m.length;
for(v=0;
v<t;
v++){if((u=m.key(v)).match(this.keyMatcher)){w.push(u.replace(this.keyMatcher,""))
}}for(v=w.length;
v--;
){this.remove(w[v])
}return this
},isExpired:function(u){var t=s(m.getItem(this._ttlKey(u)));
return j.isNumber(t)&&o()>t?true:false
}}
}else{n={get:j.noop,set:j.noop,remove:j.noop,clear:j.noop,isExpired:j.noop}
}j.mixin(p.prototype,n);
return p;
function o(){return new Date().getTime()
}function q(t){return JSON.stringify(j.isUndefined(t)?null:t)
}function s(t){return JSON.parse(t)
}}();
var i=function(){function m(n){j.bindAll(this);
n=n||{};
this.sizeLimit=n.sizeLimit||10;
this.cache={};
this.cachedKeysByAge=[]
}j.mixin(m.prototype,{get:function(n){return this.cache[n]
},set:function(o,p){var n;
if(this.cachedKeysByAge.length===this.sizeLimit){n=this.cachedKeysByAge.shift();
delete this.cache[n]
}this.cache[o]=p;
this.cachedKeysByAge.push(o)
}});
return m
}();
var d=function(){var n=0,q={},m,s;
function t(u){j.bindAll(this);
u=j.isString(u)?{url:u}:u;
s=s||new i();
m=j.isNumber(u.maxParallelRequests)?u.maxParallelRequests:m||6;
this.url=u.url;
this.wildcard=u.wildcard||"%QUERY";
this.filter=u.filter;
this.replace=u.replace;
this.ajaxSettings={type:"get",cache:u.cache,timeout:u.timeout,dataType:u.dataType||"json",beforeSend:u.beforeSend};
this._get=(/^throttle$/i.test(u.rateLimitFn)?j.throttle:j.debounce)(this._get,u.rateLimitWait||300)
}j.mixin(t.prototype,{_get:function(w,u){var x=this;
if(p()){this._sendRequest(w).done(v)
}else{this.onDeckRequestArgs=[].slice.call(arguments,0)
}function v(z){var y=x.filter?x.filter(z):z;
u&&u(y);
s.set(w,z)
}},_sendRequest:function(v){var x=this,w=q[v];
if(!w){o();
w=q[v]=c.ajax(v,this.ajaxSettings).always(u)
}return w;
function u(){r();
q[v]=null;
if(x.onDeckRequestArgs){x._get.apply(x,x.onDeckRequestArgs);
x.onDeckRequestArgs=null
}}},get:function(y,u){var x=this,w=encodeURIComponent(y||""),v,z;
u=u||j.noop;
v=this.replace?this.replace(this.url,w):this.url.replace(this.wildcard,w);
if(z=s.get(v)){j.defer(function(){u(x.filter?x.filter(z):z)
})
}else{this._get(v,u)
}return !!z
}});
return t;
function o(){n++
}function r(){n--
}function p(){return n<m
}}();
var a=function(){var o={thumbprint:"thumbprint",protocol:"protocol",itemHash:"itemHash",adjacencyList:"adjacencyList"};
function n(p){j.bindAll(this);
if(j.isString(p.template)&&!p.engine){c.error("no template engine specified")
}if(!p.local&&!p.prefetch&&!p.remote){c.error("one of local, prefetch, or remote is required")
}this.name=p.name||j.getUniqueId();
this.limit=p.limit||5;
this.minLength=p.minLength||1;
this.header=p.header;
this.footer=p.footer;
this.valueKey=p.valueKey||"value";
this.template=m(p.template,p.engine,this.valueKey);
this.local=p.local;
this.prefetch=p.prefetch;
this.remote=p.remote;
this.itemHash={};
this.adjacencyList={};
this.storage=p.name?new g(p.name):null
}j.mixin(n.prototype,{_processLocalData:function(p){this._mergeProcessedData(this._processData(p))
},_loadPrefetchData:function(q){var t=this,y=l+(q.thumbprint||""),w,r,u,p,s,x;
if(this.storage){w=this.storage.get(o.thumbprint);
r=this.storage.get(o.protocol);
u=this.storage.get(o.itemHash);
p=this.storage.get(o.adjacencyList)
}s=w!==y||r!==j.getProtocol();
q=j.isString(q)?{url:q}:q;
q.ttl=j.isNumber(q.ttl)?q.ttl:24*60*60*1000;
if(u&&p&&!s){this._mergeProcessedData({itemHash:u,adjacencyList:p});
x=c.Deferred().resolve()
}else{x=c.getJSON(q.url).done(v)
}return x;
function v(D){var C=q.filter?q.filter(D):D,B=t._processData(C),z=B.itemHash,A=B.adjacencyList;
if(t.storage){t.storage.set(o.itemHash,z,q.ttl);
t.storage.set(o.adjacencyList,A,q.ttl);
t.storage.set(o.thumbprint,y,q.ttl);
t.storage.set(o.protocol,j.getProtocol(),q.ttl)
}t._mergeProcessedData(B)
}},_transformDatum:function(p){var r=j.isString(p)?p:p[this.valueKey],s=p.tokens||j.tokenizeText(r),q={value:r,tokens:s};
if(j.isString(p)){q.datum={};
q.datum[this.valueKey]=p
}else{q.datum=p
}q.tokens=j.filter(q.tokens,function(t){return !j.isBlankString(t)
});
q.tokens=j.map(q.tokens,function(t){return t.toLowerCase()
});
return q
},_processData:function(s){var r=this,p={},q={};
j.each(s,function(u,t){var v=r._transformDatum(t),w=j.getUniqueId(v.value);
p[w]=v;
j.each(v.tokens,function(y,x){var A=x.charAt(0),z=q[A]||(q[A]=[w]);
!~j.indexOf(z,w)&&z.push(w)
})
});
return{itemHash:p,adjacencyList:q}
},_mergeProcessedData:function(p){var q=this;
j.mixin(this.itemHash,p.itemHash);
j.each(p.adjacencyList,function(t,s){var r=q.adjacencyList[t];
q.adjacencyList[t]=r?r.concat(s):s
})
},_getLocalSuggestions:function(u){var t=this,s=[],q=[],r,p=[];
j.each(u,function(w,v){var x=v.charAt(0);
!~j.indexOf(s,x)&&s.push(x)
});
j.each(s,function(v,w){var x=t.adjacencyList[w];
if(!x){return false
}q.push(x);
if(!r||x.length<r.length){r=x
}});
if(q.length<s.length){return[]
}j.each(r,function(v,z){var x=t.itemHash[z],y,w;
y=j.every(q,function(A){return ~j.indexOf(A,z)
});
w=y&&j.every(u,function(A){return j.some(x.tokens,function(B){return B.indexOf(A)===0
})
});
w&&p.push(x)
});
return p
},initialize:function(){var p;
this.local&&this._processLocalData(this.local);
this.transport=this.remote?new d(this.remote):null;
p=this.prefetch?this._loadPrefetchData(this.prefetch):c.Deferred().resolve();
this.local=this.prefetch=this.remote=null;
this.initialize=function(){return p
};
return p
},getSuggestions:function(u,q){var t=this,s,p,r=false;
if(u.length<this.minLength){return
}s=j.tokenizeQuery(u);
p=this._getLocalSuggestions(s).slice(0,this.limit);
if(p.length<this.limit&&this.transport){r=this.transport.get(u,v)
}!r&&q&&q(p);
function v(w){p=p.slice(0);
j.each(w,function(z,y){var A=t._transformDatum(y),x;
x=j.some(p,function(B){return A.value===B.value
});
!x&&p.push(A);
return p.length<t.limit
});
q&&q(p)
}}});
return n;
function m(s,r,t){var q,p;
if(j.isFunction(s)){q=s
}else{if(j.isString(s)){p=r.compile(s);
q=j.bind(p.render,p)
}else{q=function(u){return"<p>"+u[t]+"</p>"
}
}}return q
}}();
var b=function(){function n(q){var p=this;
j.bindAll(this);
this.specialKeyCodeMap={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"};
this.$hint=c(q.hint);
this.$input=c(q.input).on("blur.tt",this._handleBlur).on("focus.tt",this._handleFocus).on("keydown.tt",this._handleSpecialKeyEvent);
if(!j.isMsie()){this.$input.on("input.tt",this._compareQueryToInputValue)
}else{this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(r){if(p.specialKeyCodeMap[r.which||r.keyCode]){return
}j.defer(p._compareQueryToInputValue)
})
}this.query=this.$input.val();
this.$overflowHelper=o(this.$input)
}j.mixin(n.prototype,k,{_handleFocus:function(){this.trigger("focused")
},_handleBlur:function(){this.trigger("blured")
},_handleSpecialKeyEvent:function(p){var q=this.specialKeyCodeMap[p.which||p.keyCode];
q&&this.trigger(q+"Keyed",p)
},_compareQueryToInputValue:function(){var p=this.getInputValue(),r=m(this.query,p),q=r?this.query.length!==p.length:false;
if(q){this.trigger("whitespaceChanged",{value:this.query})
}else{if(!r){this.trigger("queryChanged",{value:this.query=p})
}}},destroy:function(){this.$hint.off(".tt");
this.$input.off(".tt");
this.$hint=this.$input=this.$overflowHelper=null
},focus:function(){this.$input.focus()
},blur:function(){this.$input.blur()
},getQuery:function(){return this.query
},setQuery:function(p){this.query=p
},getInputValue:function(){return this.$input.val()
},setInputValue:function(q,p){this.$input.val(q);
!p&&this._compareQueryToInputValue()
},getHintValue:function(){return this.$hint.val()
},setHintValue:function(p){this.$hint.val(p)
},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()
},isOverflow:function(){this.$overflowHelper.text(this.getInputValue());
return this.$overflowHelper.width()>this.$input.width()
},isCursorAtEnd:function(){var q=this.$input.val().length,r=this.$input[0].selectionStart,p;
if(j.isNumber(r)){return r===q
}else{if(document.selection){p=document.selection.createRange();
p.moveStart("character",-q);
return q===p.text.length
}}return true
}});
return n;
function o(p){return c("<span></span>").css({position:"absolute",left:"-9999px",visibility:"hidden",whiteSpace:"nowrap",fontFamily:p.css("font-family"),fontSize:p.css("font-size"),fontStyle:p.css("font-style"),fontVariant:p.css("font-variant"),fontWeight:p.css("font-weight"),wordSpacing:p.css("word-spacing"),letterSpacing:p.css("letter-spacing"),textIndent:p.css("text-indent"),textRendering:p.css("text-rendering"),textTransform:p.css("text-transform")}).insertAfter(p)
}function m(q,p){q=(q||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ");
p=(p||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ");
return q===p
}}();
var f=function(){var o={suggestionsList:'<span class="tt-suggestions"></span>'},n={suggestionsList:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"}};
function p(q){j.bindAll(this);
this.isOpen=false;
this.isEmpty=true;
this.isMouseOverDropdown=false;
this.$menu=c(q.menu).on("mouseenter.tt",this._handleMouseenter).on("mouseleave.tt",this._handleMouseleave).on("click.tt",".tt-suggestion",this._handleSelection).on("mouseover.tt",".tt-suggestion",this._handleMouseover)
}j.mixin(p.prototype,k,{_handleMouseenter:function(){this.isMouseOverDropdown=true
},_handleMouseleave:function(){this.isMouseOverDropdown=false
},_handleMouseover:function(r){var q=c(r.currentTarget);
this._getSuggestions().removeClass("tt-is-under-cursor");
q.addClass("tt-is-under-cursor")
},_handleSelection:function(r){var q=c(r.currentTarget);
this.trigger("suggestionSelected",m(q))
},_show:function(){this.$menu.css("display","block")
},_hide:function(){this.$menu.hide()
},_moveCursor:function(s){var u,r,q,t;
if(!this.isVisible()){return
}u=this._getSuggestions();
r=u.filter(".tt-is-under-cursor");
r.removeClass("tt-is-under-cursor");
q=u.index(r)+s;
q=(q+1)%(u.length+1)-1;
if(q===-1){this.trigger("cursorRemoved");
return
}else{if(q<-1){q=u.length-1
}}t=u.eq(q).addClass("tt-is-under-cursor");
this.trigger("cursorMoved",m(t))
},_getSuggestions:function(){return this.$menu.find(".tt-suggestions > .tt-suggestion")
},destroy:function(){this.$menu.off(".tt");
this.$menu=null
},isVisible:function(){return this.isOpen&&!this.isEmpty
},closeUnlessMouseIsOverDropdown:function(){if(!this.isMouseOverDropdown){this.close()
}},close:function(){if(this.isOpen){this.isOpen=false;
this._hide();
this.$menu.find(".tt-suggestions > .tt-suggestion").removeClass("tt-is-under-cursor");
this.trigger("closed")
}},open:function(){if(!this.isOpen){this.isOpen=true;
!this.isEmpty&&this._show();
this.trigger("opened")
}},setLanguageDirection:function(q){var r={left:"0",right:"auto"},s={left:"auto",right:" 0"};
q==="ltr"?this.$menu.css(r):this.$menu.css(s)
},moveCursorUp:function(){this._moveCursor(-1)
},moveCursorDown:function(){this._moveCursor(+1)
},getSuggestionUnderCursor:function(){var q=this._getSuggestions().filter(".tt-is-under-cursor").first();
return q.length>0?m(q):null
},getFirstSuggestion:function(){var q=this._getSuggestions().first();
return q.length>0?m(q):null
},renderSuggestions:function(t,u){var q="tt-dataset-"+t.name,r='<div class="tt-suggestion">%body</div>',x,w,y=this.$menu.find("."+q),s,v,z;
if(y.length===0){w=c(o.suggestionsList).css(n.suggestionsList);
y=c("<div></div>").addClass(q).append(t.header).append(w).append(t.footer).appendTo(this.$menu)
}if(u.length>0){this.isEmpty=false;
this.isOpen&&this._show();
s=document.createElement("div");
v=document.createDocumentFragment();
j.each(u,function(B,A){x=t.template(A.datum);
s.innerHTML=r.replace("%body",x);
z=c(s.firstChild).css(n.suggestion).data("suggestion",A);
z.children().each(function(){c(this).css(n.suggestionChild)
});
v.appendChild(z[0])
});
y.show().find(".tt-suggestions").html(v)
}else{this.clearSuggestions(t.name)
}this.trigger("suggestionsRendered")
},clearSuggestions:function(s){var q=s?this.$menu.find(".tt-dataset-"+s):this.$menu.find('[class^="tt-dataset-"]'),r=q.find(".tt-suggestions");
q.hide();
r.empty();
if(this._getSuggestions().length===0){this.isEmpty=true;
this._hide()
}}});
return p;
function m(q){return q.data("suggestion")
}}();
var h=function(){var q={wrapper:'<span class="twitter-typeahead"></span>',hint:'<input id="twitter-typeahead" class="tt-hint" type="text" autocomplete="off" spellcheck="off" disabled>',dropdown:'<span class="tt-dropdown-menu"></span>'},p={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none"},query:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"}};
if(j.isMsie()){j.mixin(p.query,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"})
}if(j.isMsie()&&j.isMsie()<=7){j.mixin(p.wrapper,{display:"inline",zoom:"1"});
j.mixin(p.query,{marginTop:"-1px"})
}function n(t){var s,u,r;
j.bindAll(this);
this.$node=m(t.input);
this.datasets=t.datasets;
this.dir=null;
this.eventBus=t.eventBus;
s=this.$node.find(".tt-dropdown-menu");
u=this.$node.find(".tt-query");
r=this.$node.find(".tt-hint");
this.dropdownView=new f({menu:s}).on("suggestionSelected",this._handleSelection).on("cursorMoved",this._clearHint).on("cursorMoved",this._setInputValueToSuggestionUnderCursor).on("cursorRemoved",this._setInputValueToQuery).on("cursorRemoved",this._updateHint).on("suggestionsRendered",this._updateHint).on("opened",this._updateHint).on("closed",this._clearHint).on("opened closed",this._propagateEvent);
this.inputView=new b({input:u,hint:r}).on("focused",this._openDropdown).on("blured",this._closeDropdown).on("blured",this._setInputValueToQuery).on("enterKeyed",this._handleSelection).on("queryChanged",this._clearHint).on("queryChanged",this._clearSuggestions).on("queryChanged",this._getSuggestions).on("whitespaceChanged",this._updateHint).on("queryChanged whitespaceChanged",this._openDropdown).on("queryChanged whitespaceChanged",this._setLanguageDirection).on("escKeyed",this._closeDropdown).on("escKeyed",this._setInputValueToQuery).on("tabKeyed upKeyed downKeyed",this._managePreventDefault).on("upKeyed downKeyed",this._moveDropdownCursor).on("upKeyed downKeyed",this._openDropdown).on("tabKeyed leftKeyed rightKeyed",this._autocomplete)
}j.mixin(n.prototype,k,{_managePreventDefault:function(u){var t=u.data,v,r,s=false;
switch(u.type){case"tabKeyed":v=this.inputView.getHintValue();
r=this.inputView.getInputValue();
s=v&&v!==r;
break;
case"upKeyed":case"downKeyed":s=!t.shiftKey&&!t.ctrlKey&&!t.metaKey;
break
}s&&t.preventDefault()
},_setLanguageDirection:function(){var r=this.inputView.getLanguageDirection();
if(r!==this.dir){this.dir=r;
this.$node.css("direction",r);
this.dropdownView.setLanguageDirection(r)
}},_updateHint:function(){var u=this.dropdownView.getFirstSuggestion(),t=u?u.value:null,x=this.dropdownView.isVisible(),w=this.inputView.isOverflow(),s,y,z,r,v;
if(t&&x&&!w){s=this.inputView.getInputValue();
y=s.replace(/\s{2,}/g," ").replace(/^\s+/g,"");
z=j.escapeRegExChars(y);
r=new RegExp("^(?:"+z+")(.*$)","i");
v=r.exec(t);
this.inputView.setHintValue(s+(v?v[1]:""))
}},_clearHint:function(){this.inputView.setHintValue("")
},_clearSuggestions:function(){this.dropdownView.clearSuggestions()
},_setInputValueToQuery:function(){this.inputView.setInputValue(this.inputView.getQuery())
},_setInputValueToSuggestionUnderCursor:function(s){var r=s.data;
this.inputView.setInputValue(r.value,true)
},_openDropdown:function(){this.dropdownView.open()
},_closeDropdown:function(r){this.dropdownView[r.type==="blured"?"closeUnlessMouseIsOverDropdown":"close"]()
},_moveDropdownCursor:function(s){var r=s.data;
if(!r.shiftKey&&!r.ctrlKey&&!r.metaKey){this.dropdownView[s.type==="upKeyed"?"moveCursorUp":"moveCursorDown"]()
}},_handleSelection:function(t){var s=t.type==="suggestionSelected",r=s?t.data:this.dropdownView.getSuggestionUnderCursor();
if(r){this.inputView.setInputValue(r.value);
s?this.inputView.focus():t.data.preventDefault();
s&&j.isMsie()?j.defer(this.dropdownView.close):this.dropdownView.close();
this.eventBus.trigger("selected",r.datum)
}},_getSuggestions:function(){var r=this,s=this.inputView.getQuery();
if(j.isBlankString(s)){return
}j.each(this.datasets,function(t,u){u.getSuggestions(s,function(v){if(s===r.inputView.getQuery()){r.dropdownView.renderSuggestions(u,v)
}})
})
},_autocomplete:function(v){var s,r,u,w,t;
if(v.type==="rightKeyed"||v.type==="leftKeyed"){s=this.inputView.isCursorAtEnd();
r=this.inputView.getLanguageDirection()==="ltr"?v.type==="leftKeyed":v.type==="rightKeyed";
if(!s||r){return
}}u=this.inputView.getQuery();
w=this.inputView.getHintValue();
if(w!==""&&u!==w){t=this.dropdownView.getFirstSuggestion();
this.inputView.setInputValue(t.value);
this.eventBus.trigger("autocompleted",t.datum)
}},_propagateEvent:function(r){this.eventBus.trigger(r.type)
},destroy:function(){this.inputView.destroy();
this.dropdownView.destroy();
o(this.$node);
this.$node=null
},setQuery:function(r){this.inputView.setQuery(r);
this.inputView.setInputValue(r);
this._clearHint();
this._clearSuggestions();
this._getSuggestions()
}});
return n;
function m(r){var t=c(q.wrapper),v=c(q.dropdown),w=c(r),s=c(q.hint);
t=t.css(p.wrapper);
v=v.css(p.dropdown);
s.css(p.hint).css({backgroundAttachment:w.css("background-attachment"),backgroundClip:w.css("background-clip"),backgroundColor:w.css("background-color"),backgroundImage:w.css("background-image"),backgroundOrigin:w.css("background-origin"),backgroundPosition:w.css("background-position"),backgroundRepeat:w.css("background-repeat"),backgroundSize:w.css("background-size")});
w.data("ttAttrs",{dir:w.attr("dir"),autocomplete:w.attr("autocomplete"),spellcheck:w.attr("spellcheck"),style:w.attr("style")});
w.addClass("tt-query").attr({autocomplete:"off",spellcheck:false}).css(p.query);
try{!w.attr("dir")&&w.attr("dir","auto")
}catch(u){}return w.wrap(t).parent().prepend(s).append(v)
}function o(r){var s=r.find(".tt-query");
j.each(s.data("ttAttrs"),function(t,u){j.isUndefined(u)?s.removeAttr(t):s.attr(t,u)
});
s.detach().removeData("ttAttrs").removeClass("tt-query").insertAfter(r);
r.remove()
}}();
(function(){var n={},o="ttView",m;
m={initialize:function(r){var q;
r=j.isArray(r)?r:[r];
if(r.length===0){c.error("no datasets provided")
}q=j.map(r,function(t){var s=n[t.name]?n[t.name]:new a(t);
if(t.name){n[t.name]=s
}return s
});
return this.each(p);
function p(){var u=c(this),t,s=new e({el:u});
t=j.map(q,function(v){return v.initialize()
});
u.data(o,new h({input:u,eventBus:s=new e({el:u}),datasets:q}));
c.when.apply(c,t).always(function(){j.defer(function(){s.trigger("initialized")
})
})
}},destroy:function(){return this.each(p);
function p(){var r=c(this),q=r.data(o);
if(q){q.destroy();
r.removeData(o)
}}},setQuery:function(p){return this.each(q);
function q(){var r=c(this).data(o);
r&&r.setQuery(p)
}}};
jQuery.fn.typeahead=function(p){if(m[p]){return m[p].apply(this,[].slice.call(arguments,1))
}else{return m.initialize.apply(this,arguments)
}}
})()
})(window.jQuery);
var WCM={};
WCM.Video={};
WCM.Video.isLoading=false;
WCM.Video.queue=[];
WCM.Video.isLoaded=false;
WCM.Video.init=function(b){console.log("Video Init");
console.log($(b));
var a={pluginPath:"/etc/designs/odu/clientlibs/libs/mediaelement/",defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,audioWidth:400,audioHeight:30,startVolume:0.8,loop:false,enableAutosize:false,features:["playpause","progress","current","duration","tracks","volume","fullscreen","stop"],alwaysShowControls:false,iPadUseNativeControls:true,iPhoneUseNativeControls:true,AndroidUseNativeControls:true,alwaysShowHours:false,showTimecodeFrameCount:false,framesPerSecond:25,enableKeyboard:true,pauseOtherPlayers:true,keyActions:[]};
if($.browser.msie){a.mode="shim"
}$(b).find("video,audio").mediaelementplayer(a)
};
$(document).ready(function(){$("body").on("contentLoaded.WCM",function(a){if($(a.target).find("video,audio").length>0){if(WCM.Video.isLoaded){console.log("Video is Loaded");
WCM.Video.init(a.target)
}else{if(WCM.Video.isLoading){console.log("Video Queued");
WCM.Video.queue.push(a.target)
}else{WCM.Video.isLoading=true;
yepnope([{test:typeof mejs==="object",nope:["/etc/designs/odu/clientlibs/libs/mediaelement/mediaelement-and-player.js","/etc/designs/odu/clientlibs/libs/mediaelement/mediaelementplayer.css"],complete:function(){console.log("Library Loaded");
console.log(WCM.Video.queue);
WCM.Video.isLoading=false;
WCM.Video.isLoaded=true;
WCM.Video.init(a.target);
$.each(WCM.Video.queue,function(){console.log(WCM.Video);
WCM.Video.init(WCM.Video.queue.pop())
})
}}])
}}}})
});
WCM.Interactive={};
WCM.Interactive.isLoading=false;
WCM.Interactive.queue=[];
WCM.Interactive.isLoaded=false;
WCM.Interactive.init=function(a){$(a).find(".interactiveslider").interactiveslider()
};
$(document).ready(function(){$("body").on("contentLoaded.WCM",function(a){$(a.target).find(".interactiveslider").each(function(){});
if($(a.target).find(".interactiveslider").length>0){if(WCM.Interactive.isLoaded){WCM.Interactive.init(a.target)
}else{if(WCM.Interactive.isLoading){WCM.Interactive.queue.push(a.target)
}else{WCM.Interactive.isLoading=true;
yepnope([{test:jQuery().interactiveslider,nope:["/etc/designs/odu/clientlibs/homepage/featureslider.css","/etc/designs/odu/clientlibs/homepage/featureslider.js"],complete:function(){WCM.Interactive.isLoading=false;
WCM.Interactive.isLoaded=true;
WCM.Interactive.init(a.target);
$.each(WCM.Interactive.queue,function(){WCM.Interactive.init(WCM.Interactive.queue.pop())
})
}}])
}}}})
});
(function(b){b.fn.youtubeplayer=function(){this.each(function(){a(b(this))
})
};
function a(g){var i=g.data("youtubePlaylistId");
var j=g.data("youtubeUserId");
var k=g.data("youtubeVideoId");
var d=g.data("youtubeIsLightbox");
var n=g.data("youtubeIsAutoplay");
if(g.hasClass("youtube-initialized")){return true
}g.addClass("youtube-initialized");
if(i){l(i)
}else{if(j){e(j)
}else{if(k){if(!d){m(k,n);
return true
}}else{return false
}}}if(k&&d){h(k)
}function c(o){if(!o){return false
}var p=o.items[0].snippet.resourceId.videoId;
return p
}function h(o){g.find("img").attr("src","//img.youtube.com/vi/"+o+"/mqdefault.jpg");
return true
}function m(p,o){g.find("iframe").attr("src","//www.youtube.com/embed/"+p+"?autoplay="+o+"&autohide=1&modestbranding=1&wmode=transparent&rel=0")
}function f(p){var q=true;
var r=p.items[0].snippet.resourceId.videoId;
if(!p){return false
}playlist=b('<ul class="youtube-player-playlist"></ul>');
if(g.hasClass("youtube-playlist-side")){var o=g.find("iframe").attr("height")-10;
playlist.height(o)
}b.each(p.items,function(t,s){var v=s.snippet.resourceId.videoId;
var u=s.snippet.title;
if(q){m(v,0);
q=false
}b("<li />").data("youtube-video-id",v).append('<span class="vid-thumb"><span class="img" style="background-image:url(//img.youtube.com/vi/'+v+'/default.jpg);"  /></span></span><span class="title">'+u+"</span>").bind("click",function(){m(v,1)
}).appendTo(playlist)
});
playlist.appendTo(g);
return true
}function e(o){b.get("https://www.googleapis.com/youtube/v3/channels",{part:"contentDetails",forUsername:o,maxResults:50,key:"AIzaSyCAblLv97ElOnJeasZ0GcjFSSjWXZlMAkY"},function(p){b.each(p.items,function(q,r){pid=r.contentDetails.relatedPlaylists.uploads;
l(pid)
})
})
}function l(o){b.get("https://www.googleapis.com/youtube/v3/playlistItems",{part:"snippet",playlistId:o,maxResults:50,key:"AIzaSyCAblLv97ElOnJeasZ0GcjFSSjWXZlMAkY"},function(p){if(d){h(c(arguments[0]))
}else{f(arguments[0])
}})
}return true
}})(jQuery);
(function(b){b.fn.vimeoplayer=function(){this.each(function(){a(b(this))
})
};
function a(g){console.log(g);
var i=g.data("vimeoPlaylistId");
var j=g.data("vimeoUserId");
var k=g.data("vimeoVideoId");
var d=g.data("vimeoIsLightbox");
var n=g.data("vimeoIsAutoplay");
if(g.hasClass("vimeo-initialized")){return true
}g.addClass("vimeo-initialized");
if(i){l(i)
}else{if(j){e(j)
}else{if(k){if(!d){m(k,n);
return true
}}else{return false
}}}if(k&&d){h(k)
}function c(o){if(!o){return false
}var p=o.data[0].uri.match(/\d+/);
return p
}function h(o){g.find("img").attr("src","https://i.vimeocdn.com/video/"+o+"_295x166.jpg");
return true
}function m(p,o){g.find("iframe").attr("src","https://player.vimeo.com/video/"+p+"?autoplay="+o+"&byline=0&portrait=0&title=0")
}function f(p){$playlist=b('<ul class="vimeo-player-playlist"></ul>');
var q=true;
var r=p.data[0].uri[0].match(/\d+/);
if(!p){return false
}if(g.hasClass("vimeo-playlist-side")){var o=g.find("iframe").attr("height")-10;
$playlist.height(o)
}b.each(p.data,function(t,s){var v=s.uri.match(/\d+/);
var u=s.name;
if(q){m(v,0);
q=false
}b("<li />").data("vimeo-video-id",v).append('<span class="vid-thumb"><span class="img" style="background-image:url(https://i.vimeocdn.com/video/'+v+'_295x166.jpg);"/></span></span><span class="title">'+u+"</span>").bind("click",function(){m(v,1)
}).appendTo($playlist)
});
$playlist.appendTo(g);
return true
}function e(p){var o="https://api.vimeo.com/users/"+p+"/videos";
b.get(o,{access_token:"b01c349a04a5fe1c33226a174411b79c"},function(q){if(d){h(c(arguments[0]))
}else{f(arguments[0])
}})
}function l(o){var p="https://api.vimeo.com/channels/"+o+"/videos";
b.get(p,{access_token:"b01c349a04a5fe1c33226a174411b79c"},function(q){if(d){h(c(arguments[0]))
}else{f(arguments[0])
}})
}return true
}})(jQuery);
(function(a){a.fn.imagestack=function(){setTimeout(function(){a(".ie8 .more-caption").css("z-index","+=2")
},500);
this.each(function(){var b=a(this).parent();
a(this).bind("mouseleave",function(){if(a(this).find("img").eq(0).hasClass("rotate1")){a(this).find("img").eq(0).removeClass("rotate1");
a(this).find("img").eq(1).removeClass("rotate2");
a(this).find("img").eq(2).removeClass("rotate3")
}}).bind("mouseenter",function(){if(!a(this).find("img").eq(0).hasClass("rotate1")){var c=b.offset();
a(this).find("img").eq(0).addClass("rotate1");
a(this).find("img").eq(1).addClass("rotate2");
a(this).find("img").eq(2).addClass("rotate3")
}})
})
}
})(jQuery);
(function(a){a.fn.facet=function(){var b=this;
querySet={};
b.isotope({itemSelector:".list-item",layoutMode:"straightDown"});
a(".option-set").each(function(){var h=a(this);
if(h.data("iscollapsible")){var f=a("li.programFilter",h);
var e=f.length;
var c;
if(e>3){a('<p class="read-more"><button id="more">More</button></p>').insertAfter(f[e-1]);
for(var d=3;
d<=e-1;
d++){a(f[d]).addClass("hide collapsible")
}c=true
}var g=a("#more",h);
g.click(function(){if(c){g.text("Collapse");
g.addClass("open");
c=false
}else{g.text("More");
g.removeClass("open");
c=true
}for(var j=3;
j<=e-1;
j++){a(f[j]).toggleClass("hide",1000,"easeOutSine")
}})
}});
a(".major").click(function(){$this=a(this);
$parent=$this.parent();
hiddenheight=40;
majorheight=40;
if($this.hasClass("major-shown")){$parent.height(hiddenheight);
$parent.find(".major-open").slideUp(600);
b.isotope("reLayout");
$this.removeClass("major-shown")
}else{$parent.height(hiddenheight+$parent.find(".major-open").length*majorheight);
$this.parent().find(".major-open").slideDown(400);
b.isotope("reLayout");
$this.addClass("major-shown")
}});
a(".program-title").click(function(){console.log("Clicked");
$this=a(this);
$parent=$this.parent();
var c=$parent.siblings(".program-details");
if(c.is(":hidden")){c.show();
$parent.css("background-color","#eee");
b.isotope("reLayout");
$this.addClass("details-visible")
}else{$parent.css("background-color","#fff");
c.hide();
b.isotope("reLayout");
$this.removeClass("details-visible")
}});
a(".option-set a").click(function(){var e=a(this);
var d={};
var c=e.closest(".option-set").data("filter-group");
if(e.parent().hasClass("selected")){a.bbq.removeState(c)
}else{var f=e.attr("href").replace(/^#[^=]*=/,"");
d[c]=f;
a.bbq.pushState(d)
}return false
});
a(window).bind("hashchange",function(f){if(a.find(".option-set").length!==0){var e=[];
a(".option-set").each(function(){var h=a(this);
var g=h.data("filter-group");
h.find(".selected").removeClass("selected");
var i=a.bbq.getState(g);
if(i){$selectedLink=h.find('a[href="#'+g+"="+i+'"]');
$selectedLink.parent().addClass("selected");
e.push(i)
}});
var d=e.join("");
var c="filter="+d;
hashOptions=a.deparam(c,true);
defaultIsotopeOptions={itemSelector:".list-item",layoutMode:"straightDown",aniEngine:"best-available"};
options=a.extend({},defaultIsotopeOptions,hashOptions);
b.isotope(options)
}})
}
})(jQuery);
(function(b){b.fn.pageindex=function(){this.each(function(){a(b(this))
})
};
function a(f){console.log(" I am Mr. Facet");
f.find(".azindex-link").unbind("click").click(function(j){j.preventDefault();
if(!b(this).hasClass("initialized")){c(f,b(this).data("azindex"));
b(this).addClass("initialized")
}else{g(f)
}});
f.find(".pagemap-link").unbind("click").click(function(j){j.preventDefault();
if(!b(this).hasClass("initialized")){d(f,b(this).data("pagemap"));
b(this).addClass("initialized")
}else{h(f)
}});
f.find(".categories-link").unbind("click").click(function(j){j.preventDefault();
if(!b(this).hasClass("initialized")){i(f,b(this).data("categories"));
b(this).addClass("initialized")
}else{e(f)
}});
function c(j,k){b.get(k,function(l){j.append(l);
g(j)
})
}function d(j,k){b.get(k,function(l){j.append(l);
h(j)
})
}function i(j,k){b.get(k,function(l){j.append(l);
e(j)
})
}function g(j){j.find(".pagemap-link").parent().removeClass("active");
j.find(".categories-link").parent().removeClass("active");
j.find(".azindex-link").parent().addClass("active");
j.find(".pagemap-container").hide();
j.find(".azindex-container:eq(0)").show();
j.find(".categories-container").hide()
}function h(j){j.find(".azindex-link").parent().removeClass("active");
j.find(".categories-link").parent().removeClass("active");
j.find(".pagemap-link").parent().addClass("active");
j.find(".pagemap-container").show();
j.find(".azindex-container").hide();
j.find(".categories-container").hide()
}function e(j){j.find(".azindex-link").parent().removeClass("active");
j.find(".pagemap-link").parent().removeClass("active");
j.find(".categories-link").parent().addClass("active");
j.find(".azindex-container").hide();
j.find(".pagemap-container").hide();
j.find(".categories-container:eq(0)").show()
}}})(jQuery);
(function(b){b.fn.pageindexinstantsearch=function(){this.each(function(){a(b(this))
})
};
function a(d){var c=[];
if(d.find(".categories-container").length>0){d.find(".search-list .search-listitem").each(function(){var g=b(this).find(".name").html();
var f=[];
b(this).find("ul li").each(function(){f.push({value:b(this).find("a").text(),url:b(this).find("a").attr("href")})
});
c.push({name:g.replace(/[^a-z0-9]/ig,"_"),local:f,limit:10,header:'<h3 class="field-name">'+g+"</h3>"})
})
}else{if(d.find(".azindex-container").length>0){d.find(".azindex").each(function(){var g=b(this).find(".az-name").html();
var f=[];
if(!g){g=""
}b(this).find("ul li").each(function(){f.push({value:b(this).find("a").text(),url:b(this).find("a").attr("href")})
});
c.push({name:g.replace(/[^a-z0-9]/ig,"_"),local:f,limit:10,header:'<h3 class="field-name">'+g+"</h3>"})
})
}else{d.find(".typeahead").hide()
}}if(c.length>0){var e=d.find(".typeahead");
e.typeahead(c);
e.on("typeahead:selected",function(h,g){var f=g.url;
if(f.indexOf("/")===0){}top.location=f
})
}}})(jQuery);
$(document).ready(function(){$("body").on("contentLoaded.WCM",function(a){$(this).find(".noList").each(function(){$(this).closest("[class^=grid-]").css("overflow","visible")
});
$(a.target).find(".pageindex-container").pageindexinstantsearch()
})
});
(function(a){a.fn.programsviewinstantsearch=function(){this.each(function(){b(a(this))
})
};
function b(d){var c=new Array();
d.find(".facet-list").each(function(){a(this).find(".facet-list-item").each(function(){var f=a(this);
var e=new Object();
e.value=f.find(".program-title").text();
e.url=f.find(".button-moredetails").attr("href");
c.push(e)
})
});
if(c.length>0){a("#programs-view-search").typeahead({hint:true,highlight:true,minLength:1,local:c,name:"value",limit:10}).on("typeahead:selected",function(h,g){var f=g.url;
if(f.indexOf("/")===0){}top.location=f
})
}}})(jQuery);
$(document).ready(function(){$("body").on("contentLoaded.WCM",function(a){$(a.target).find(".programs-view-faceted-list").programsviewinstantsearch()
})
});
WCM.Tabs={};
WCM.Tabs.History={};
WCM.Tabs.History.initElements=function(){var a=0;
var b=[];
$(".tabs").each(function(){var d="tab";
d=d+a;
b.push(d);
$(this).attr("id",d);
var c=0;
$(this).find("ul li a").each(function(){var e=d+"_"+c;
$(this).attr("href","#"+e);
c++
});
$(this).find(":header a").each(function(){var e=d+"_"+c;
$(this).attr("href","#"+e);
c++
});
a++
})
};
WCM.Tabs.History.init=function(){$(".tabs").each(function(){var b=$.bbq.getState(this.id,false)||-1;
if(b>=0){if($(this).hasClass("tab-theme-1")){var a=$(this).find("> header li:eq("+b+") a");
swap_tabs(a,1)
}else{if($(this).hasClass("tab-theme-2")){var a=$(this).find("> header li:eq("+b+") a");
swap_tabs(a,2)
}else{var a=$(this).find("> .tab-content:eq("+b+") > :header a");
swap_tabs(a,"accordion")
}}}})
};
$(window).bind("hashchange contentLoaded.WCM",function(a){WCM.Tabs.History.init()
});
$(document).ready(function(){$("label").click(function(){});
if($(".second > header > nav > ul").length>0){$('<div id="uni-phone-breadcrumbs" />').prependTo("#content");
$("<div>Go To...</div>").appendTo("#uni-phone-breadcrumbs");
$("<select />").appendTo("#uni-phone-breadcrumbs");
$($(".second > header > nav > ul > li > a").get().reverse()).each(function(){var a=$(this);
if(!a.parent().hasClass("home-page")){$("<option />",{"class":"parent",value:a.attr("href"),text:a.text()}).appendTo("#uni-phone-breadcrumbs select");
if(a.parent().hasClass("has-children")){a.parent().find("ul li a").each(function(){var b=$(this);
$("<option />",{value:b.attr("href"),text:"--- "+b.text()}).appendTo("#uni-phone-breadcrumbs select")
})
}}});
$("#uni-phone-breadcrumbs div").click(function(){return true
});
$("#uni-phone-breadcrumbs select").change(function(){var a=$(this).find("option:selected").val();
if(a!=""){window.location=$(this).find("option:selected").val()
}})
}});
function iosDisableSelectZoom(a){var c=navigator.userAgent.toLowerCase();
var b=$('meta[name="viewport"]');
if(c.search("iphone")>-1||c.search("ipod")>-1){$("select, input").bind("focus touchstart touchend mouseup mousedown",function(d){if(d.type=="focus"||d.type=="touchstart"||d.type=="mousedown"){b.attr("content","width=device-width,initial-scale=1,maximum-scale=1")
}if(d.type=="focus"||d.type=="touchend"||d.type=="mouseup"){setTimeout(function(){b.attr("content","width=device-width,initial-scale=1,maximum-scale=10")
},1000)
}})
}}$(document).ready(function(){iosDisableSelectZoom("select, input")
});
/*! A fix for the iOS orientationchange zoom bug.
 Script by @scottjehl, rebound by @wilto.
 MIT / GPLv2 License.
*/
(function(n){var d=navigator.userAgent;
if(!(/iPhone|iPad|iPod/.test(navigator.platform)&&/OS [1-5]_[0-9_]* like Mac OS X/i.test(d)&&d.indexOf("AppleWebKit")>-1)){return
}var m=n.document;
if(!m.querySelector){return
}var o=m.querySelector("meta[name=viewport]"),a=o&&o.getAttribute("content"),l=a+",maximum-scale=1",e=a+",maximum-scale=10",h=true,k,j,i,c;
if(!o){return
}function g(){o.setAttribute("content",e);
h=true
}function b(){o.setAttribute("content",l);
h=false
}function f(p){c=p.accelerationIncludingGravity;
k=Math.abs(c.x);
j=Math.abs(c.y);
i=Math.abs(c.z);
if((!n.orientation||n.orientation===180)&&(k>7||((i>6&&j<8||i<8&&j>6)&&k>5))){if(h){b()
}}else{if(!h){g()
}}}n.addEventListener("orientationchange",g,false);
n.addEventListener("devicemotion",f,false)
})(this);
/*! Normalized address bar hiding for iOS & Android (c) @scottjehl MIT License */
(function(e){var d=e.document;
if(!location.hash&&e.addEventListener){window.scrollTo(0,1);
var c=1,b=function(){return e.pageYOffset||d.compatMode==="CSS1Compat"&&d.documentElement.scrollTop||d.body.scrollTop||0
},a=setInterval(function(){if(d.body){clearInterval(a);
c=b();
e.scrollTo(0,c===1?0:1)
}},15);
e.addEventListener("load",function(){setTimeout(function(){if(b()<20){e.scrollTo(0,c===1?0:1)
}},0)
})
}})(this);
WCM.LightBox={};
WCM.LightBox.defaults={aspectRatio:true,autoSize:false,fitToView:true,openEffect:"elastic",closeEffect:"elastic",scrolling:"no",helpers:{title:null,overlay:{opacity:0.5}}};
WCM.LightBox.imageTitle=function(d,c,a,b){return'<div class="fancy-title">'+(d&&d.length?"<b>"+d+"</b>":"")+"Image "+(a+1)+" of "+c.length+"</div>"
};
WCM.LightBox.itemTitle=function(d,c,a,b){return'<div class="fancy-title">'+(a>0?'<a href="javascript:;" onclick="$.fancybox.prev();">&lt;&lt;</a> ':"")+(d&&d.length-1?"<b>"+d+"</b>":"")+"Item "+(a+1)+" of "+c.length+(a<(c.length-1)?' <a href="javascript:;" onclick="$.fancybox.next();">&gt;&gt;</a>':"")+"</div>"
};
WCM.LightBox.init=function(a){$(a).find("a.lightbox").attr("rel","lightbox");
$(a).find("a.lightbox").fancybox($.extend({},WCM.LightBox.defaults,{autoSize:true,type:"image",wrapCSS:"",helpers:{title:{type:"inside"}},afterShow:init_dyn_content}));
$(a).find("a.lightbox-gallery").fancybox($.extend({},WCM.LightBox.defaults,{width:660,height:556,aspectRatio:false,type:"ajax",afterShow:init_dyn_content}));
$(a).find("a.lightbox-video").fancybox($.extend({},WCM.LightBox.defaults,{width:690,height:"auto",type:"ajax",afterShow:init_dyn_content}));
$(a).find("a.lightbox-youtube").fancybox($.extend({},WCM.LightBox.defaults,{width:900,height:"auto",type:"ajax",afterShow:init_dyn_content}));
$(a).find("a.lightbox-youtube-playlist-bottom").fancybox($.extend({},WCM.LightBox.defaults,{width:690,height:"auto",type:"ajax",afterShow:init_dyn_content}));
$(a).find("a.lightbox-youtube-playlist-right").fancybox($.extend({},WCM.LightBox.defaults,{width:900,height:"auto",type:"ajax",afterShow:init_dyn_content}));
$(a).find("a.lightbox-vimeo").fancybox($.extend({},WCM.LightBox.defaults,{width:900,height:"auto",type:"ajax",afterShow:init_dyn_content}));
$(a).find("a.lightbox-vimeo-playlist-bottom").fancybox($.extend({},WCM.LightBox.defaults,{width:690,height:"auto",type:"ajax",afterShow:init_dyn_content}));
$(a).find("a.lightbox-vimeo-playlist-right").fancybox($.extend({},WCM.LightBox.defaults,{width:900,height:"auto",type:"ajax",afterShow:init_dyn_content}));
$(a).find("a.lightbox-ajax").fancybox($.extend({},WCM.LightBox.defaults,{width:800,height:500,type:"ajax",afterShow:function(){$(".fancybox-inner").trigger("contentLoaded.WCM")
}}));
$(a).find("a.iframe").attr("rel","iframe");
$(a).find("a.iframe").fancybox($.extend({},WCM.LightBox.defaults,{width:800,height:500,wrapCSS:"fancyiframe",scrolling:"yes",type:"iframe"}))
};
$(document).ready(function(){$("body").on("contentLoaded.WCM",function(a){WCM.LightBox.init(a.target)
})
});
$(document).ready(function(){$("body").on("contentLoaded.WCM",function(a){$(a.target).find(".ad-gallery-init").adGallery({loader_image:"/etc/designs/odu/clientlibs/libs/ad-gallery/loader.gif"});
$(a.target).find(".ad-gallery-init").each(function(){$(this).removeClass("ad-gallery-init")
});
$(a.target).find(".image-stack").imagestack()
})
});
WCM.LocationMap={};
WCM.LocationMap.isLoading=false;
WCM.LocationMap.queue=[];
WCM.LocationMap.isLoaded=false;
WCM.LocationMap.init=function(){WCM.LocationMap.isLoading=false;
WCM.LocationMap.isLoaded=true;
$.each(WCM.LocationMap.queue,function(){$(WCM.LocationMap.queue.pop()).find(".locationmap").locationmap()
})
};
$(document).ready(function(){$("body").on("contentLoaded.WCM",function(a){if($(a.target).find(".locationmap").length>0){if(WCM.LocationMap.isLoaded){WCM.LocationMap.initMap(a.target)
}else{if(WCM.LocationMap.isLoading){WCM.LocationMap.queue.push(a.target)
}else{WCM.LocationMap.isLoading=true;
WCM.LocationMap.queue.push(a.target);
var b=window.google!=undefined;
yepnope({test:b,yep:{alreadyLoaded:"timeout=1!"},nope:{googleMap:"//maps.google.com/maps/api/js?v=3&sensor=false&callback=WCM.LocationMap.init"},callback:{alreadyLoaded:function(){}},complete:function(){}})
}}}})
});
(function(b){b.fn.locationmap=function(){this.each(function(){a(b(this))
})
};
function a(h){var d=h;
var c=d.find(".map-canvas");
var g=d.find(".locationpoint");
var i=function(){var m=c.data("ismaplink");
var l=c.data("geocode");
var k=l.split(",");
var e=new google.maps.LatLng(parseFloat(k[0]),parseFloat(k[1]));
var j={zoom:18,center:e,mapTypeControl:true,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DROPDOWN_MENU},navigationControl:true,mapTypeId:google.maps.MapTypeId.ROADMAP};
if(m){d.find(".map-link").click(function(){f(j,true)
})
}else{g.show();
f(j,false)
}};
var f=function(j,k){if(k){g.toggle()
}else{g.show()
}var l=new google.maps.Map(d.find(".map-canvas")[0],j);
var e=new google.maps.Marker({position:j.center,title:c.data("title")});
e.setMap(l)
};
i()
}})(jQuery);
!function(e,a,f){var c,b=e.getElementsByTagName(a)[0];
if(!e.getElementById(f)){c=e.createElement(a);
c.id=f;
c.src="https://platform.twitter.com/widgets.js";
b.parentNode.insertBefore(c,b)
}}(document,"script","twitter-wjs");
var windowHeight=$(window).height();
function embedSizes(){var a=$(window).height();
$("#content").find(".pdfWrap").each(function(){$(this).height($(this).width());
$(this).css("max-height",a*0.9)
})
}$(document).ready(function(){embedSizes()
});
$(window).resize(function(){embedSizes()
});
var hash=window.location.hash.substring(1);
$(document).ready(function(){hash=hash.split("&");
for(var a=0;
a<hash.length;
a++){if(hash[a].indexOf("redirect")===0){hash=hash[a];
hash=hash.split("=");
hash=hash[1];
a=hash.length
}}$(".wireless-network-redirect-url").attr("href",hash);
$("a.cepd-redirect").click(function(){var b;
var c;
b=$("a.cepd-redirect").attr("href");
c=b.split("?");
$("a.cepd-redirect").attr("href","/content/odu/colleges/cepd/move.html?"+c[1])
});
$("a.cepd-registration").click(function(){var b=window.location.href;
b=b.split("?");
$("a.cepd-registration").attr("href","https://register.odu.edu/flexibleregistration/index.jsp?"+b[1])
})
});
function imageMapResize(){$("img.imageComp").next("map").each(function(a){var d=$(this);
var b=$(this).prev("img");
var e=function(j,h){var l,g=j[0].areas,f=g.length,i=[];
var k=b.attr("storedWidth");
if(k==undefined){if(b.attr("origWidth")>1280){k=1280
}else{k=b.attr("origWidth")
}}for(l=0;
l<f;
l++){i[l]=g[l].coords.split(",")
}this.resize=function(){var r,q,p,o=h[0].offsetWidth/k;
for(r=0;
r<f;
r++){p=i[r].length;
for(q=0;
q<p;
q++){i[r][q]*=o
}g[r].coords=i[r].join(",")
}h.attr("storedWidth",b[0].clientWidth);
return true
}
},c=new e(d,b);
c.resize();
return
})
}window.onload=function(){imageMapResize();
var a=$("img.imageComp").parent().parent();
a.each(function(c){var b=$(this).attr("aria-describedby");
if(typeof b!==typeof undefined&&b!==false){$(this).find("a > img").attr("id",b)
}})
};
$(window).resize(function(){imageMapResize()
});
$(document).ready(function(){var a=$("#toc").attr("data-indexable");
a++;
listHeadings(a);
$("#contentsToggle").on("click",function(){$("#baseToc").slideToggle();
$(this).text(function(c,b){return b==="[show]"?"[hide]":"[show]"
})
})
});
function listHeadings(b){$("#toc").append("<div id='contents'><strong>Contents</strong>&nbsp;&nbsp;<a href='#' id='contentsToggle'>[hide]</span></div>");
console.log("indexLevel: "+b);
for(var c=0;
c<b;
c++){addTocClass(c)
}$("#toc").append("<ul id='baseToc' ></ul>");
makeHeadersUnique();
var a=$(".toc-indexed").first();
var f=$("#baseToc");
var e=a.data("level");
var d=e;
addHeaderToToc(a,f,1,e,d);
addTocNumbers(f,null)
}function addTocClass(a){var b=["h1","h2","h3","h4","h5","h6"];
$(".page-content").find(b[a]).each(function(){$(this).addClass("toc-indexed");
$(this).attr("data-level",a+1);
console.log("IS IT GETTING HERE????")
})
}function makeHeadersUnique(){var a=1;
$(".page-content").find(".toc-indexed").each(function(){$(this).attr("id","header-"+a);
$(this).attr("data-index",a);
$("#baseToc").attr("data-indexCount",a);
a++
})
}function addHeaderToToc(e,b,a,d,c){e.each(function(){var k=$(this).data("index");
var g=$(this).data("level");
var m=false;
if(k!=$("#baseToc").data("indexCount")){nextIndex=k+1;
next=$("#header-"+nextIndex)
}else{m=true
}var f=next.is(".toc-indexed");
var h=false;
var i=false;
var j=false;
$(b).append("<li><a href='#"+$(this).attr("id")+"'><span class='tocnumber'></span><span class='toctext'>"+$(this).text()+"</span></a></li>");
if(f){var n=next.data("level");
if(g<n){h=true
}else{if(g===n){i=true
}else{if(g>n){j=true;
var l=n-1;
console.log("***** Go up *****");
console.log(next);
console.log("Next object level: "+n);
console.log("baseLevel: "+c);
if(c>n){c=n;
console.log("New base level: "+c)
}$("#baseToc").find(".subList").each(function(){var p=$(this).data("sublist");
var o=$(this).data("level");
if(l===0||c===n){b=$("#baseToc")
}else{if(p<a&&o<=l){b=$(this)
}}})
}}}}if(m){}if(h){$(b).append("<ul class='subList-"+a+" subList ' data-level='"+g+"' data-sublist='"+a+"'>");
b=$("ul.subList-"+a);
a++;
addHeaderToToc(next,b,a,d,c)
}else{if(i){addHeaderToToc(next,b,a,d,c)
}else{if(j){addHeaderToToc(next,b,a,d,c)
}}}})
}function addTocNumbers(b,c){var a=1;
var d=c;
$(b).find("> li").each(function(){if(b.is("#baseToc")){c=a
}else{c=d+a
}$(this).find(".tocnumber").text(c);
if($(this).next().is("ul")){var e=$(this).next();
c=c+".";
addTocNumbers(e,c)
}a++
})
}$(document).ready(function(){$("#toc a[href*=#]").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var a=$(this.hash);
a=a.length&&a||$("[name="+this.hash.slice(1)+"]");
if(a.length){var b=a.offset().top;
$("html,body").animate({scrollTop:b},1000);
return false
}}})
});
function swap_tabs(c,e){var d=c.closest(".tab-theme-"+e);
if(d.hasClass("hide-first")){d.find("> .tab-content:eq(0) > div").hide();
d.removeClass("hide-first")
}if(c.hasClass("dyn-content")){load_dyn_content(c,e)
}if(e=="accordion"){var a=d.find("> .active").index();
var b=c.parent().parent().index();
if(a!==b){d.find("> .tab-content").removeClass("active");
d.find("> .tab-content:eq("+b+")").addClass("active");
d.find("> .tab-content:eq("+a+") > div").stop(true,true).slideUp();
d.find("> .tab-content:eq("+b+") > div").stop(true,true).slideDown(function(){$(this).fixClearType()
})
}}else{var a=d.find("> header .active").index();
var b=c.parent().index();
if(a!==b){d.find("> div > .tab-content:eq("+a+")").stop(true,true).fadeOut(function(){d.find("> header li").removeClass("active");
d.find("> header li").eq(b).addClass("active");
d.find("> div > .tab-content").eq(b).stop(true,true).fadeIn(function(){$(this).fixClearType()
})
})
}}}function load_dyn_content(a,b){href=a.attr("href");
section=a.closest(".tab-theme-"+b);
index=a.parent().index();
$("#audience-tab-content").addClass("loading");
$.get(href,function(c){$("#audience-tab-content").removeClass("loading");
if(b=="accordion"){dyncontent=section.find("> .tab-content").eq(index).find(".dyn-content")
}else{dyncontent=section.find("> div .tab-content").eq(index).find(".dyn-content")
}if(!$.browser.msie){dyncontent.html(c)
}else{dyncontent.html(innerShiv(c))
}init_tab_click();
WCM.LightBox.init(section)
})
}function tab_history(b,a){var c={};
var d=b.closest(".tabs").attr("id");
c[d]=a;
$.bbq.pushState(c)
}function init_tab_click(){$(".tab-theme-1 > header a").unbind("click").click(function(a){a.preventDefault();
tab_history($(this),$(this).parent().index())
});
$(".tab-theme-2 > header a").unbind("click").click(function(a){a.preventDefault();
tab_history($(this),$(this).parent().index())
});
$(".tab-theme-accordion > .tab-content > :header a").unbind("click").click(function(a){a.preventDefault();
tab_history($(this),$(this).parent().parent().index())
})
}function init_tabs(a){a.find(".tab-theme-1 > header li.active a").each(function(){if($(this).hasClass("dyn-content")){load_dyn_content($(this),1)
}});
a.find(".tab-theme-2 > header li.active a").each(function(){if($(this).hasClass("dyn-content")){load_dyn_content($(this),2)
}});
a.find(".tab-theme-accordion > .tab-content.active").each(function(){if($(this).hasClass("dyn-content")){load_dyn_content($(this),"accordion")
}});
init_tab_click()
}function init_dyn_content(a){a=typeof a!=="undefined"?a:true;
$(".youtube-player").youtubeplayer();
$(".vimeo-player").vimeoplayer();
init_tabs($("body"));
if(a){$("body").trigger("contentLoaded.WCM",true)
}}$(document).ready(function(){$(".pageindex-container").pageindex();
$("body").on("contentLoaded.WCM",function(a,b){if(!b){init_dyn_content(false)
}});
$("body").trigger("contentLoaded.WCM");
$("#faceted-list").facet();
$(window).trigger("hashchange")
});